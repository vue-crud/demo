{"version":3,"sources":["webpack:///src/crud/components/DataTableServerSide.vue","webpack:///./src/crud/components/DataTableServerSide.vue?fc47","webpack:///./src/crud/components/DataTableServerSide.vue","webpack:///./src/crud/mixins/datatable-main.js"],"names":["DataTableServerSide","datatable_helper","resetItems","tableFields","map","field","text","name","column","item","computed","extends_default","Object","vuex_esm","sortBy","descending","rowsPerPage","page","search","filterColumns","selectedStatuses","deleteMode","activeColumnName","params","methods","index","_this","this","components_DataTableServerSide","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","row","wrap","xs12","lg4","on","create","editSelected","suspendSelected","restoreSelected","destroySelected","refreshTable","_v","lg8","text-xs-left","text-lg-right","offset-y","close-on-content-click","slot","small","fab","dark","staticStyle","overflow-y","_l","key","items","filterModes","item-text","item-value","label","$t","hide-details","input","$event","updateColumnFilterModeEvent","model","value","callback","$$v","$set","expression","filterColumnsEvent","display","margin-left","width","append-icon","single-line","min-width","searchItems","includes","statuses","multiple","chips","_e","disable-initial-sort","must-sort","select-all","rows-per-page-items","pagination","light","headers","no-results-text","no-data-text","rows-per-page-text","total-items","totalItems","loading","update:pagination","scopedSlots","_u","fn","props","editButton","customButtons","itemElements","fileMode","columnTextModes","edit","custom","suspend","restore","destroy","editItemElements","download","showImage","ref","pageStart","pageStop","itemsLength","setPage","selected","staticRenderFns","Component","__webpack_require__","normalizeComponent","__webpack_exports__","components","DataTableRow","__WEBPACK_IMPORTED_MODULE_5__components_DataTableRow_vue__","DataTableControls","__WEBPACK_IMPORTED_MODULE_6__components_DataTableControls_vue__","data","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_extends___default","__WEBPACK_IMPORTED_MODULE_3_vuex__","selectedIds","id","actionHeader","sortable","header","toLowerCase","undefined","concat","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_toConsumableArray___default","itemsList","meta","primaryKey","getItem","then","response","editItemDialog","resetItem","createItemDialog","obj","updateItem","confirm","deleteItem","checkSelected","length","alertError","setSelectedIds","multipleEditDialog","mulitipleItemsUpdate","ids","request","active","mulitipleItemsDelete","$parent","setItemElementsInfo","getItemElements","rowDblclickAction","goToItemButton","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default","next","done","err","return","__WEBPACK_IMPORTED_MODULE_4__helpers_functions_js__","filesPath","path","filename","isImage","mime","image","openImageContainer"],"mappings":"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","file":"static/js/2.45da1069fad1fddf2ee4.js","sourcesContent":["<template>\r\n  <v-card>\r\n    <v-card-title class=\"card-title table-controls\">\r\n      <v-layout row wrap>\r\n\r\n        <v-flex xs12 lg4>\r\n          <data-table-controls\r\n            :deleteMode=\"deleteMode\"\r\n            @create=\"create\"\r\n            @editSelected=\"editSelected\"\r\n            @suspendSelected=\"suspendSelected\"\r\n            @restoreSelected=\"restoreSelected\"\r\n            @destroySelected=\"destroySelected\"\r\n            @refreshTable=\"refreshTable\"\r\n          ></data-table-controls>\r\n        </v-flex>\r\n\r\n        <v-flex xs12 lg8 text-xs-left text-lg-right>\r\n\r\n          <!-- Search by fields -->\r\n          <v-menu offset-y :close-on-content-click=\"false\">\r\n            <v-btn small fab dark slot=\"activator\" class=\"primary\">\r\n              <v-icon>filter_list</v-icon>\r\n            </v-btn>\r\n            <v-list style=\"overflow-y:false;\">\r\n              <v-list-tile v-for=\"(item, index) in filterColumns\" :key=\"index\">\r\n                <v-select\r\n                  :items=\"filterModes\"\r\n                  v-model=\"item.mode\"\r\n                  item-text=\"text\"\r\n                  item-value=\"name\"\r\n                  :label=\"$t('filterModes.label')\"\r\n                  hide-details\r\n                  @input=\"updateColumnFilterModeEvent($event, index)\"\r\n                ></v-select>\r\n                <v-text-field v-model=\"item.value\" hide-details :label=\"item.text\" @input=\"filterColumnsEvent($event, index)\"></v-text-field>\r\n              </v-list-tile>\r\n            </v-list>\r\n          </v-menu>\r\n\r\n          <!-- Search in table -->\r\n          <span style=\"display:inline-block;margin-left:50px;width:250px;\">\r\n            <v-text-field append-icon=\"search\" :label=\"$t('search')\" single-line hide-details v-model=\"search\" min-width=\"200\" @input=\"searchItems(true)\"></v-text-field>\r\n          </span>\r\n\r\n          <!-- Select statuses (active/inactive) -->\r\n          <template v-if=\"['soft', 'both'].includes(deleteMode)\">\r\n            <span style=\"display:inline-block;margin-left:50px;width:250px;\">\r\n              <v-select :label=\"$t('status.title')\" v-bind:items=\"statuses\" v-model=\"selectedStatuses\" single-line item-text=\"text\" item-value=\"value\" multiple chips></v-select>\r\n            </span>\r\n          </template>\r\n\r\n        </v-flex>\r\n\r\n      </v-layout>\r\n        \r\n    </v-card-title>\r\n    <!-- Table -->\r\n    <v-data-table\r\n      class=\"elevation-1\"\r\n      :disable-initial-sort=\"true\"\r\n      :must-sort=\"true\"\r\n      v-model=\"selected\"\r\n      select-all=\"black\"\r\n      :rows-per-page-items=\"[20, 50, 100]\"\r\n      :pagination.sync=\"pagination\"\r\n      light\r\n      :headers=\"headers\"\r\n      :items=\"items\"\r\n      :no-results-text=\"$t('noMatchingResults')\"\r\n      :no-data-text=\"$t('noDataAvailable')\"\r\n      :rows-per-page-text=\"$t('rowsPerPageText')\"\r\n      :total-items=\"totalItems\"\r\n      :loading=\"loading\"\r\n    >\r\n      <template slot=\"items\" slot-scope=\"props\">\r\n        <data-table-row\r\n          :props=\"props\"\r\n          :editButton='editButton'\r\n          :customButtons='customButtons'\r\n          :deleteMode='deleteMode'\r\n          :itemElements=\"itemElements\"\r\n          :fileMode=\"fileMode\"\r\n          :columnTextModes=\"columnTextModes\"\r\n          @edit=\"edit\"\r\n          @custom=\"custom\"\r\n          @suspend=\"suspend\"\r\n          @restore=\"restore\"\r\n          @destroy=\"destroy\"\r\n          @editItemElements=\"editItemElements\"\r\n          @download=\"download\"\r\n          @showImage=\"showImage\"\r\n        ></data-table-row>\r\n      </template>\r\n      <template slot=\"pageText\" slot-scope=\"{ pageStart, pageStop, itemsLength }\">\r\n        <data-table-footer @setPage=\"setPage\" :pagination=\"pagination\" :pageStart=\"pageStart\" :pageStop=\"pageStop\" :itemsLength=\"itemsLength\"></data-table-footer>\r\n      </template>\r\n    </v-data-table>\r\n  </v-card>\r\n</template>\r\n\r\n<script>\r\nimport MainMixin from \"../mixins/datatable-main.js\";\r\nimport HelperMixin from \"../mixins/datatable-helper.js\";\r\nimport { mapState, mapGetters, mapMutations, mapActions } from \"vuex\";\r\n\r\nexport default {\r\n  mixins: [MainMixin, HelperMixin],\r\n  data() {\r\n    return {\r\n      searching: false,\r\n      newSearchRequest: false,\r\n      ignorePaginationWatcher: false\r\n    };\r\n  },\r\n  created () {\r\n    this.resetItems();\r\n    this.filterColumns = this.tableFields\r\n      .map(field => {\r\n        let item = {};\r\n        item.mode = 'like'\r\n        item.text = field.text;\r\n        item.name = field.name\r\n        item.column = field.column\r\n        item.value = ''\r\n        return item;\r\n      });\r\n  },\r\n  computed: {\r\n    ...mapState(\"crud\", [\"totalItems\", \"loading\", \"detailsDialog\", \"tableRefreshing\"]),\r\n    params() {\r\n      return {\r\n        sortBy: this.pagination.sortBy,\r\n        descending: this.pagination.descending,\r\n        rowsPerPage: this.pagination.rowsPerPage,\r\n        page: this.pagination.page,\r\n        search: this.search,\r\n        filterColumns: this.filterColumns,\r\n        selectedStatuses: this.selectedStatuses,\r\n        deleteMode: this.deleteMode,\r\n        activeColumnName: this.activeColumnName\r\n      };\r\n    },\r\n  },\r\n  watch: {\r\n    pagination: {\r\n      handler() {\r\n        if(!this.ignorePaginationWatcher){\r\n          this.searchItems(false);\r\n        }\r\n        this.ignorePaginationWatcher = false\r\n      },\r\n      deep: true\r\n    },\r\n    detailsDialog(val) {\r\n      if (!val) {\r\n        this.getItemsServerSide([this.params]);\r\n      }\r\n    },\r\n    selectedStatuses(val) {\r\n       this.searchItems(true);\r\n    },\r\n    tableRefreshing(val) {\r\n      if (val) {\r\n        this.getItemsServerSide([this.params]);\r\n      }\r\n    },\r\n  },\r\n  methods: {\r\n    ...mapMutations(\"crud\", [\"refreshTable\"]),\r\n    ...mapActions(\"crud\", [\"getItemsServerSide\"]),\r\n    updateColumnFilterModeEvent(val, index) {\r\n      this.updateColumnFilterMode(val, index)\r\n      this.searchItems(true)\r\n    },\r\n    filterColumnsEvent(val, index) {\r\n      this.updateFilterColumns(val, index)\r\n      this.searchItems(true)\r\n    },\r\n    searchItems(resetPage){\r\n      if (resetPage){\r\n        this.ignorePaginationWatcher = true\r\n        this.pagination.page = 1\r\n      }\r\n      let params1 = JSON.stringify(this.params)\r\n      setTimeout(() => {\r\n        let params2 = JSON.stringify(this.params)\r\n        if(params1 === params2){\r\n          this.getItemsServerSide([this.params])\r\n        }\r\n      }, 500)\r\n    },\r\n  }\r\n};\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/crud/components/DataTableServerSide.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',[_c('v-card-title',{staticClass:\"card-title table-controls\"},[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\",\"lg4\":\"\"}},[_c('data-table-controls',{attrs:{\"deleteMode\":_vm.deleteMode},on:{\"create\":_vm.create,\"editSelected\":_vm.editSelected,\"suspendSelected\":_vm.suspendSelected,\"restoreSelected\":_vm.restoreSelected,\"destroySelected\":_vm.destroySelected,\"refreshTable\":_vm.refreshTable}})],1),_vm._v(\" \"),_c('v-flex',{attrs:{\"xs12\":\"\",\"lg8\":\"\",\"text-xs-left\":\"\",\"text-lg-right\":\"\"}},[_c('v-menu',{attrs:{\"offset-y\":\"\",\"close-on-content-click\":false}},[_c('v-btn',{staticClass:\"primary\",attrs:{\"slot\":\"activator\",\"small\":\"\",\"fab\":\"\",\"dark\":\"\"},slot:\"activator\"},[_c('v-icon',[_vm._v(\"filter_list\")])],1),_vm._v(\" \"),_c('v-list',{staticStyle:{\"overflow-y\":\"false\"}},_vm._l((_vm.filterColumns),function(item,index){return _c('v-list-tile',{key:index},[_c('v-select',{attrs:{\"items\":_vm.filterModes,\"item-text\":\"text\",\"item-value\":\"name\",\"label\":_vm.$t('filterModes.label'),\"hide-details\":\"\"},on:{\"input\":function($event){_vm.updateColumnFilterModeEvent($event, index)}},model:{value:(item.mode),callback:function ($$v) {_vm.$set(item, \"mode\", $$v)},expression:\"item.mode\"}}),_vm._v(\" \"),_c('v-text-field',{attrs:{\"hide-details\":\"\",\"label\":item.text},on:{\"input\":function($event){_vm.filterColumnsEvent($event, index)}},model:{value:(item.value),callback:function ($$v) {_vm.$set(item, \"value\", $$v)},expression:\"item.value\"}})],1)}))],1),_vm._v(\" \"),_c('span',{staticStyle:{\"display\":\"inline-block\",\"margin-left\":\"50px\",\"width\":\"250px\"}},[_c('v-text-field',{attrs:{\"append-icon\":\"search\",\"label\":_vm.$t('search'),\"single-line\":\"\",\"hide-details\":\"\",\"min-width\":\"200\"},on:{\"input\":function($event){_vm.searchItems(true)}},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1),_vm._v(\" \"),(['soft', 'both'].includes(_vm.deleteMode))?[_c('span',{staticStyle:{\"display\":\"inline-block\",\"margin-left\":\"50px\",\"width\":\"250px\"}},[_c('v-select',{attrs:{\"label\":_vm.$t('status.title'),\"items\":_vm.statuses,\"single-line\":\"\",\"item-text\":\"text\",\"item-value\":\"value\",\"multiple\":\"\",\"chips\":\"\"},model:{value:(_vm.selectedStatuses),callback:function ($$v) {_vm.selectedStatuses=$$v},expression:\"selectedStatuses\"}})],1)]:_vm._e()],2)],1)],1),_vm._v(\" \"),_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"disable-initial-sort\":true,\"must-sort\":true,\"select-all\":\"black\",\"rows-per-page-items\":[20, 50, 100],\"pagination\":_vm.pagination,\"light\":\"\",\"headers\":_vm.headers,\"items\":_vm.items,\"no-results-text\":_vm.$t('noMatchingResults'),\"no-data-text\":_vm.$t('noDataAvailable'),\"rows-per-page-text\":_vm.$t('rowsPerPageText'),\"total-items\":_vm.totalItems,\"loading\":_vm.loading},on:{\"update:pagination\":function($event){_vm.pagination=$event}},scopedSlots:_vm._u([{key:\"items\",fn:function(props){return [_c('data-table-row',{attrs:{\"props\":props,\"editButton\":_vm.editButton,\"customButtons\":_vm.customButtons,\"deleteMode\":_vm.deleteMode,\"itemElements\":_vm.itemElements,\"fileMode\":_vm.fileMode,\"columnTextModes\":_vm.columnTextModes},on:{\"edit\":_vm.edit,\"custom\":_vm.custom,\"suspend\":_vm.suspend,\"restore\":_vm.restore,\"destroy\":_vm.destroy,\"editItemElements\":_vm.editItemElements,\"download\":_vm.download,\"showImage\":_vm.showImage}})]}},{key:\"pageText\",fn:function(ref){\nvar pageStart = ref.pageStart;\nvar pageStop = ref.pageStop;\nvar itemsLength = ref.itemsLength;\nreturn [_c('data-table-footer',{attrs:{\"pagination\":_vm.pagination,\"pageStart\":pageStart,\"pageStop\":pageStop,\"itemsLength\":itemsLength},on:{\"setPage\":_vm.setPage}})]}}]),model:{value:(_vm.selected),callback:function ($$v) {_vm.selected=$$v},expression:\"selected\"}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1da99c0c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/crud/components/DataTableServerSide.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./DataTableServerSide.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./DataTableServerSide.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1da99c0c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./DataTableServerSide.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/crud/components/DataTableServerSide.vue\n// module id = null\n// module chunks = ","import {\r\n  mapState,\r\n  mapGetters,\r\n  mapMutations,\r\n  mapActions\r\n} from \"vuex\";\r\nimport {\r\n  download\r\n} from \"@/helpers/functions.js\";\r\nimport DataTableRow from \"../components/DataTableRow.vue\";\r\nimport DataTableControls from \"../components/DataTableControls.vue\";\r\n\r\nexport default {\r\n  components: {\r\n    DataTableRow,\r\n    DataTableControls,\r\n  },\r\n  props: [\r\n    \"tableFields\",\r\n    \"deleteMode\",\r\n    \"customButtons\",\r\n    \"itemElements\",\r\n    \"editButton\",\r\n    \"fileMode\",\r\n    \"meta\",\r\n    \"primaryKey\",\r\n    \"activeColumnName\"\r\n  ],\r\n  data() {\r\n    return {\r\n      selected: [],\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState([\"filesPath\"]),\r\n    ...mapState(\"crud\", [\"prefix\", \"path\"]),\r\n    ...mapGetters(\"crud\", [\"itemsList\"]),\r\n    selectedIds() {\r\n      return this.selected.map(item => item.id);\r\n    },\r\n    headers() {\r\n      let actionHeader = [{\r\n        text: this.$t(\"fields.action\"),\r\n        sortable: false\r\n      }];\r\n      let headers = this.tableFields.map(field => {\r\n        let header = {};\r\n        header.text = field.text;\r\n        header.value = field.name.toLowerCase();\r\n        if (field.sortable != undefined) {\r\n          header.sortable = field.sortable;\r\n        }\r\n        return header;\r\n      });\r\n      return [...actionHeader, ...headers];\r\n    },\r\n    items() {\r\n      return this.itemsList(this.tableFields, this.meta, this.primaryKey, this.customButtons, this.activeColumnName);\r\n    },\r\n  },\r\n  methods: {\r\n    ...mapMutations([\"alertError\"]),\r\n    ...mapMutations(\"crud\", [\r\n      \"resetItems\",\r\n      \"resetItem\",\r\n      \"editItemDialog\",\r\n      \"createItemDialog\",\r\n      \"multipleEditDialog\",\r\n      \"setItemElementsInfo\",\r\n      \"editItemElementsDialog\",\r\n      \"openImageContainer\",\r\n      \"setSelectedIds\"\r\n    ]),\r\n    ...mapActions(\"crud\", [\r\n      \"getItem\",\r\n      \"updateItem\",\r\n      \"storeItem\",\r\n      \"deleteItem\",\r\n      \"getItemElements\",\r\n      \"mulitipleItemsUpdate\",\r\n      \"mulitipleItemsDelete\"\r\n    ]),\r\n    edit(id) {\r\n      this.getItem([id]).then(response => {\r\n        this.editItemDialog(id);\r\n      })\r\n    },\r\n    create() {\r\n      this.resetItem();\r\n      this.createItemDialog();\r\n    },\r\n    suspend(id) {\r\n      let obj = {}\r\n      obj[this.activeColumnName] = 0\r\n      this.updateItem([\r\n        id,\r\n        obj,\r\n        this.$t(\"global.alerts.suspended\"),\r\n        this.$t(\"global.alerts.suspendError\")\r\n      ]);\r\n    },\r\n    restore(id) {\r\n      let obj = {}\r\n      obj[this.activeColumnName] = 1\r\n      this.updateItem([\r\n        id,\r\n        obj,\r\n        this.$t(\"global.alerts.restored\"),\r\n        this.$t(\"global.alerts.restoreError\")\r\n      ]);\r\n    },\r\n    destroy(id) {\r\n      if (confirm(this.$t(\"global.alerts.confirm\"))) {\r\n        this.deleteItem([\r\n          id,\r\n          this.$t(\"global.alerts.deleted\"),\r\n          this.$t(\"global.alerts.deleteError\")\r\n        ]);\r\n      }\r\n    },\r\n    checkSelected() {\r\n      if (this.selected.length == 0) {\r\n        this.alertError(this.$t(\"noItemsSelected\"));\r\n        return false;\r\n      } else {\r\n        if (confirm(this.$t(\"confirm\"))) {\r\n          return true;\r\n        } else {\r\n          return false;\r\n        }\r\n      }\r\n    },\r\n    editSelected() {\r\n      if (this.selected.length == 0) {\r\n        this.alertError(this.$t(\"noItemsSelected\"));\r\n        return false;\r\n      }\r\n      else {\r\n        this.setSelectedIds(this.selected)\r\n        this.resetItem();\r\n        this.multipleEditDialog();\r\n      }\r\n    },\r\n    suspendSelected() {\r\n      if (this.checkSelected()) {\r\n        this.mulitipleItemsUpdate([{\r\n            ids: this.selectedIds,\r\n            request: {\r\n              active: 0\r\n            }\r\n          },\r\n          this.$t(\"global.alerts.suspended\"),\r\n          this.$t(\"global.alerts.suspendError\")\r\n        ]);\r\n      }\r\n    },\r\n    restoreSelected() {\r\n      if (this.checkSelected()) {\r\n        this.mulitipleItemsUpdate([{\r\n            ids: this.selectedIds,\r\n            request: {\r\n              active: 1\r\n            }\r\n          },\r\n          this.$t(\"global.alerts.restored\"),\r\n          this.$t(\"global.alerts.restoreError\")\r\n        ]);\r\n      }\r\n    },\r\n    destroySelected() {\r\n      if (this.checkSelected()) {\r\n        this.mulitipleItemsDelete([{\r\n            ids: this.selectedIds\r\n          },\r\n          this.$t(\"global.alerts.deleted\"),\r\n          this.$t(\"global.alerts.deleteError\")\r\n        ]);\r\n      }\r\n    },\r\n    custom(name, item) {\r\n      this.$parent.custom(name, item);\r\n    },\r\n    editItemElements(name, id) {\r\n      let obj = this.itemElements[name];\r\n      this.setItemElementsInfo([id, obj]);\r\n      this.getItemElements();\r\n    },\r\n    rowDblclickAction(item) {\r\n      if(this.editButton){\r\n        this.edit(item.meta.id)\r\n      }\r\n      else {\r\n        let goToItemButton = false\r\n        for(let button of this.customButtons) {\r\n          if (button.name == 'goToItem') {\r\n            goToItemButton = true\r\n            break\r\n          }\r\n        }\r\n        if(goToItemButton){\r\n          this.custom('goToItem', item)\r\n        }\r\n      }\r\n    },\r\n    download(item) {\r\n      download(this.filesPath + item.meta.path, item.filename);\r\n    },\r\n    isImage(mime) {\r\n      let supportedMimeTypes = [\"image/jpeg\", \"image/png\"];\r\n      return supportedMimeTypes.includes(mime);\r\n    },\r\n    showImage(image) {\r\n      this.openImageContainer(image);\r\n    },\r\n  },\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/crud/mixins/datatable-main.js"],"sourceRoot":""}