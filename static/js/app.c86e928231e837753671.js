webpackJsonp([4],{"/SGs":function(e,t,i){var a={"./DataTableClientSide.vue":["ipT6",1,0],"./DataTableControls.vue":["XY2G",0],"./DataTableFooter.vue":["8dWO"],"./DataTableRow.vue":["x6CG",0],"./DataTableServerSide.vue":["CEWq",0,2]};function s(e){var t=a[e];return t?Promise.all(t.slice(1).map(i.e)).then(function(){return i(t[0])}):Promise.reject(new Error("Cannot find module '"+e+"'."))}s.keys=function(){return Object.keys(a)},s.id="/SGs",e.exports=s},0:function(e,t){},"1FYM":function(e,t,i){"use strict";var a=i("BO1k"),s=i.n(a),n=i("Gu7T"),o=i.n(n),r=i("8dWO");t.a={mixins:[{i18n:{messages:{pl:{filterModes:{label:"Tryb",options:{like:"Zawiera",equals:"Jest równe",list:"Lista"}},noItemsSelected:"Nie wybrano żadnego elementu",confirm:"Czy na pewno chcesz to zrobić?",fields:{action:"Akcja",status:"Status"},status:{title:"Statusy",active:"Aktywne",inactive:"Nieaktywne"},searchByColumns:"Szukaj w wybranych kolumnach",search:"Szukaj",noMatchingResults:"Nie znaleziono pasujących rekordów",noDataAvailable:"Brak danych",rowsPerPageText:"Rekordów na stronę:",records:"Rekordy",page:"Strona",from:"z",add:"Dodaj",all:"Wszystko",buttons:{edit:"Edytuj",suspend:"Zawieś",restore:"Przywróć",delete:"Usuń",editSelected:"Edytuj zaznaczone",suspendSelected:"Zawieś zaznaczone",restoreSelected:"Przywróć zaznaczone",deleteSelected:"Usuń zaznaczone",download:"Pobierz",show:"Pokaż",refreshTable:"Odswież tabelę"}},en:{filterModes:{label:"Mode",options:{like:"Like",equals:"Equals",list:"List"}},noItemsSelected:"No items selected",confirm:"Are you sure?",fields:{action:"Action",status:"Status"},status:{title:"Statuses",active:"Active",inactive:"Inactive"},searchByColumns:"Search by fields",search:"Search",noMatchingResults:"No matching records found",noDataAvailable:"No data available",rowsPerPageText:"Rows per page:",records:"Records",page:"Page",from:"from",add:"Add",all:"All",buttons:{edit:"Edit",suspend:"Suspend",restore:"Restore",delete:"Delete",editSelected:"Edit selected",suspendSelected:"Suspend selected",restoreSelected:"Restore selected",deleteSelected:"Delete selected",download:"Download",show:"Show",refreshTable:"Refresh table"}}}}}],components:{DataTableFooter:r.default},data:function(){return{selectedStatuses:[1],filterColumns:[],tmp:"",search:"",pagination:{}}},computed:{headers:function(){var e=[{text:this.$t("fields.action"),sortable:!1}],t=this.tableFields.map(function(e){var t={};return t.text=e.text,t.value=e.name.toLowerCase(),void 0!=e.sortable&&(t.sortable=e.sortable),t});return[].concat(e,o()(t))},columnTextModes:function(){var e={},t=!0,i=!1,a=void 0;try{for(var n,o=s()(this.tableFields);!(t=(n=o.next()).done);t=!0){var r=n.value;e[r.name.toLowerCase()]=r.textMode||"cropped"}}catch(e){i=!0,a=e}finally{try{!t&&o.return&&o.return()}finally{if(i)throw a}}return e},statuses:function(){return[{text:this.$t("status.active"),value:1},{text:this.$t("status.inactive"),value:0}]},filterModes:function(){return[{name:"like",text:this.$t("filterModes.options.like")},{name:"equals",text:this.$t("filterModes.options.equals")},{name:"list",text:this.$t("filterModes.options.list")}]}},methods:{updateColumnFilterMode:function(e,t){var i=this.filterColumns;i[t].mode=e,this.$set(this,"filterColumns",i)},updateFilterColumns:function(e,t){var i=this.filterColumns;i[t].value=e,this.$set(this,"filterColumns",i)},setPage:function(e){this.pagination.page=parseInt(e)}}}},"8dWO":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={mixins:[{i18n:{messages:{pl:{records:"Rekordy",page:"Strona",from:"z"},en:{records:"Records",page:"Page",from:"from"}}}}],props:["pageStart","pageStop","itemsLength","pagination"],computed:{calcPages:function(){return Math.ceil(this.pagination.totalItems/this.pagination.rowsPerPage)}},methods:{setPage:function(e){this.$emit("setPage",e)}}},s={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",[i("span",[e._v("\n    "+e._s(e.$t("records"))+" "+e._s(e.pageStart)+" - "+e._s(e.pageStop)+" "+e._s(e.$t("from"))+" "+e._s(e.itemsLength)+"\n  ")]),e._v(" "),i("span",{staticStyle:{"margin-left":"30px"}},[e._v("\n    "+e._s(e.$t("page"))+":\n     \n    "),i("span",{staticStyle:{width:"50px",display:"inline-block !important"}},[i("v-text-field",{attrs:{value:e.pagination.page,type:"number",min:"1",max:e.calcPages},on:{input:function(t){e.setPage(t)}}})],1)])])},staticRenderFns:[]},n=i("VU/8")(a,s,!1,null,null,null);t.default=n.exports},Cynn:function(e,t){e.exports="data:image/png;base64,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"},DHyr:function(e,t){},JXiI:function(e,t,i){e.exports=i.p+"static/img/vue-crud-md.ee509a0.png"},M93x:function(e,t,i){"use strict";var a=i("xJD8"),s=i.n(a),n=i("krh8");var o=function(e){i("sq9w")},r=i("VU/8")(s.a,n.a,!1,o,null,null);t.default=r.exports},NHnr:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});i("j1ja");var a=i("7+uW"),s=i("TXmL"),n=i("NYxO"),o=i("/ocq"),r=i("Dd8w"),l=i.n(r),c={computed:l()({},Object(n.e)(["sidebarMini","sidebar"]),Object(n.c)("auth",["checkRole"])),props:{source:String},methods:l()({},Object(n.d)(["toggleSidebarWidth","setSidebarWidth"]),{click:function(){this.sidebarMini&&this.setSidebarWidth(!1)},mouseleave:function(){this.setSidebarWidth(!0)}}),data:function(){return{setSidebarMini:!1,dialog:!1,items:[{icon:"people",text:"crm.name",model:!1,guard:"CRM",route:"/crm",children:[{text:"crm.companies",route:"/companies"},{text:"crm.companyTypes",route:"/company-types"},{text:"crm.companyFiles",route:"/company-files"},{text:"crm.companyComments",route:"/company-comments"},{text:"crm.companyCommentTypes",route:"/company-comment-types"},{text:"crm.people",route:"/people"},{text:"crm.personComments",route:"/person-comments"},{text:"crm.personCommentTypes",route:"/person-comment-types"},{text:"crm.positions",route:"/positions"},{text:"crm.positionTasks",route:"/position-tasks"},{text:"crm.tasks",route:"/tasks"}]},{icon:"person_add_disabled",text:"admin.name",model:!1,guard:"ADMIN",route:"/administration",children:[{text:"admin.users",route:"/users"},{text:"admin.permissions",route:"/permissions"},{text:"admin.userPermissions",route:"/user-permissions"}]}]}}},d={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{on:{click:function(t){e.click()},mouseleave:function(t){e.mouseleave()}}},[i("v-navigation-drawer",{staticClass:"secondary main-sidebar",attrs:{permanent:"","mini-variant":e.$store.state.sidebarMini,dark:"",clipped:"",fixed:"",app:"","mini-variant-width":"60"}},[i("v-list",{attrs:{dense:""}},[e._l(e.items,function(t){return e.checkRole(t.guard)?[i("v-list-group",{key:t.text,attrs:{"prepend-icon":t.icon,"append-icon":""},model:{value:t.model,callback:function(i){e.$set(t,"model",i)},expression:"item.model"}},[i("v-list-tile",{attrs:{slot:"activator"},slot:"activator"},[i("v-list-tile-content",[i("v-list-tile-title",[e._v("\n              "+e._s(e.$t("global.routes."+t.text))+"\n            ")])],1),e._v(" "),t.icon?i("v-list-tile-action",[i("v-icon",[e._v(e._s(t.model?"keyboard_arrow_up":"keyboard_arrow_down"))])],1):e._e()],1),e._v(" "),e.$store.state.sidebarMini?e._e():e._l(t.children,function(a,s){return i("v-list-tile",{key:s,attrs:{href:"#"+t.route+a.route}},[a.icon?i("v-list-tile-action",[i("v-icon",[e._v(e._s(a.icon))])],1):e._e(),e._v(" "),i("v-list-tile-content",[i("v-list-tile-title",[e._v("\n                "+e._s(e.$t("global.routes."+a.text))+"\n              ")])],1)],1)})],2)]:e._e()})],2)],1)],1)},staticRenderFns:[]},u=i("VU/8")(c,d,!1,null,null,null).exports,m={name:"navbar-top",data:function(){return{}},computed:l()({},Object(n.e)(["locales"])),methods:l()({},Object(n.b)("auth",["logout"]),Object(n.d)(["setLocale","openProfileDialog"]),{changeLocale:function(e){this.$i18n.locale=e,this.setLocale(e)},logoutAttempt:function(){var e=this;this.logout().then(function(){e.$router.push({path:"/login"})})}})},p={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-toolbar",{attrs:{"clipped-left":"",dark:"",fixed:"",app:"",color:"primary"}},[a("v-toolbar-title",{staticClass:"title"},[a("router-link",{attrs:{to:"/home"}},[e._v(e._s(e.$store.state.title))])],1),e._v(" "),a("v-spacer"),e._v(" "),a("span",{staticClass:"logo-background"},[a("img",{staticClass:"logo",attrs:{src:i("g2Y0")("./"+e.$store.state.logoSm)}})]),e._v(" "),a("v-spacer"),e._v(" "),e.$store.state.localeSelectable?a("v-menu",{attrs:{bottom:"",left:""}},[a("v-btn",{attrs:{slot:"activator",icon:"",dark:""},slot:"activator"},[a("v-icon",[e._v("translate")])],1),e._v(" "),a("v-list",e._l(e.locales,function(t,i){return a("v-list-tile",{key:i,on:{click:function(i){e.changeLocale(t.name)}}},[a("v-list-tile-title",[e._v(e._s(t.text))])],1)}))],1):e._e(),e._v(" "),a("v-btn",{attrs:{icon:""},on:{click:function(t){t.stopPropagation(),e.openProfileDialog(t)}}},[a("v-icon",[e._v("perm_identity")])],1),e._v(" "),a("a",{on:{click:function(t){e.logoutAttempt()}}},[a("v-btn",{attrs:{icon:""}},[a("v-icon",[e._v("power_settings_new")])],1)],1)],1)},staticRenderFns:[]};var f=i("VU/8")(m,p,!1,function(e){i("sgN6")},"data-v-a41dd290",null).exports,h={name:"alert",computed:l()({},Object(n.e)(["alert"]))},v={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-layout",{attrs:{"justify-center":"","align-center":""}},[i("v-alert",{staticClass:"alert",attrs:{type:e.alert.type,value:"true",transition:"scale-transition"},model:{value:e.alert.show,callback:function(t){e.$set(e.alert,"show",t)},expression:"alert.show"}},[i("span",{domProps:{innerHTML:e._s(e.alert.text)}})])],1)},staticRenderFns:[]};var y=i("VU/8")(h,v,!1,function(e){i("dKVy")},"data-v-bb5d3b06",null).exports,g={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("v-footer",{staticClass:"primary pa-3 white--text",attrs:{app:""}},[t("v-spacer"),this._v(" "),t("div",[this._v("© "+this._s((new Date).getFullYear()))])],1)],1)},staticRenderFns:[]},b=i("VU/8")({name:"footnote"},g,!1,null,null,null).exports,x={name:"backTop",props:{speed:{type:Number,default:.1}},data:function(){return{top:0}},created:function(){var e=this;setInterval(function(){e.top=document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop},20)},methods:{backTop:function(){var e=this,t=e.top,i=setInterval(function(){(t-=Math.abs(t*e.speed))<=1&&(t=0,clearInterval(i)),document.documentElement.scrollTop=t,document.body.scrollTop=t},20);return!1}}},w={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.top>0?i("span",{on:{click:function(t){t.preventDefault(),e.backTop(t)}}},[i("v-btn",{staticClass:"secondary",attrs:{id:"scroll",fab:"",floating:""}},[i("v-icon",{staticClass:"white--text"},[e._v("keyboard_arrow_up")])],1),e._v(" "),e._t("default")],2):e._e()},staticRenderFns:[]};var k=i("VU/8")(x,w,!1,function(e){i("PXbx")},"data-v-31f6ac7d",null).exports,_={name:"profile",data:function(){return{userValid:!1,user:{name:"",email:""},passwordValid:!1,password:{old:"",new:"",repeat:""},e1:!0,e2:!0,e3:!0,rules:{required:function(e){return!!e||"Required."},email:function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)||"Invalid e-mail."}}}},computed:l()({},Object(n.c)("auth",["userInfo","userUpdated","userPasswordUpdated","userPasswordUpdateError","userPasswordUpdateErrorMsg"]),{userRules:function(){var e=this;return{name:[function(t){return!!t||e.$t("rules.required")},function(t){return t.length<100||e.$t("rules.less")+" 100 "+e.$t("rules.characters")},function(t){return t.length>4||e.$t("rules.more")+" 4 "+e.$t("rules.characters")}],email:[function(t){return!!t||e.$t("rules.required")},function(t){return/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,4})+$/.test(t)||e.$t("rules.emailMustBeValid")}]}},passwordRules:function(){var e=this;return{old:[function(t){return!!t||e.$t("rules.required")}],new:[function(t){return!!t||e.$t("rules.required")},function(t){return t.length<100||e.$t("rules.less")+" 100 "+e.$t("rules.characters")},function(t){return t.length>=8||e.$t("rules.atLeast")+" 8 "+e.$t("rules.characters")},function(t){return t!=e.password.old||e.$t("rules.passwordMustDiffer")}],repeat:[function(t){return!!t||e.$t("rules.required")},function(t){return t.length<100||e.$t("rules.less")+" 100 "+e.$t("rules.characters")},function(t){return t.length>=8||e.$t("rules.atLeast")+" 8 "+e.$t("rules.characters")},function(t){return t==e.password.new||e.$t("rules.passwordMustBeSame")}]}}}),created:function(){this.getUser()},methods:l()({clearPasswords:function(){this.password.old="",this.password.new="",this.password.repeat=""},getUser:function(){var e=this.userInfo;this.user.name=e.name,this.user.email=e.email},editPasswordAndClear:function(){this.editPassword(this.password),this.clearPasswords()}},Object(n.b)("auth",["editUser","editPassword"])),i18n:{messages:{pl:{title:"Profil Użytkownika",close:"Zamknij",rules:{required:"Pole jest wymagane",atLeast:"Pole musi mieć przynajmniej",less:"Pole musi mieć mniej niż",more:"Pole musi mieć więcej niż",characters:"znaków",emailMustBeValid:"E-mail musi mieć poprawny format",passwordMustDiffer:"Nowe hasło musi się różnić od poprzedniego",passwordMustBeSame:"Hasła nie mogą się różnić"},user:{name:"Nazwa Użytkownika",email:"Adres e-mail",restore:"Przywróć",save:"Zapisz",updated:"Dane użytkownika zostały zaktualizowane"},password:{old:"Stare hasło",new:"Nowe hasło",repeat:"Powtórz hasło",updated:"Hasło zostało zaktualizowane",updateError:"Wystąpił błąd. Hasło nie zostało zaktualizowane",clear:"Wyczyść",change:"Zmień hasło"}},en:{title:"User Profile",close:"Close",rules:{required:"Field is required",atLeast:"Field must be at least",less:"Field must be less than",more:"Pole musi mieć more than",characters:"characters",emailMustBeValid:"E-mail must be valid",passwordMustDiffer:"New password must be different from the old password",passwordMustBeSame:"Password can't be different"},user:{name:"User name",email:"E-mail address",restore:"Restore",save:"Save",updated:"User data has been updated"},password:{old:"Old password",new:"New password",repeat:"Repeat password",updated:"Password has been updated",updateError:"Password update error",clear:"Clear",change:"Change passowrd"}}}}},C={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-layout",{attrs:{row:"","justify-center":""}},[i("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.$store.state.profileDialog,callback:function(t){e.$set(e.$store.state,"profileDialog",t)},expression:"$store.state.profileDialog"}},[i("v-card",[i("v-card-title",[i("span",{staticClass:"headline"},[e._v(e._s(e.$t("title")))])]),e._v(" "),i("v-form",{model:{value:e.userValid,callback:function(t){e.userValid=t},expression:"userValid"}},[i("v-card-text",[e.userUpdated?i("v-alert",{attrs:{outline:"",color:"success",icon:"check_circle",value:"true"}},[e._v("\n            "+e._s(e.$t("user.updated"))+"\n          ")]):e._e(),e._v(" "),i("v-text-field",{attrs:{label:e.$t("user.name"),rules:e.userRules.name},model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}}),e._v(" "),i("v-text-field",{attrs:{label:e.$t("user.email"),rules:e.userRules.email},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})],1),e._v(" "),i("v-card-actions",[i("v-btn",{staticClass:"blue--text",attrs:{flat:""},on:{click:function(t){e.getUser()}}},[e._v(e._s(e.$t("user.restore")))]),e._v(" "),i("v-btn",{staticClass:"green--text",attrs:{flat:"",disabled:!e.userValid},on:{click:function(t){e.editUser(e.user)}}},[e._v(e._s(e.$t("user.save")))])],1)],1),e._v(" "),i("v-form",{model:{value:e.passwordValid,callback:function(t){e.passwordValid=t},expression:"passwordValid"}},[i("v-card-text",[e.userPasswordUpdated?i("v-alert",{attrs:{outline:"",color:"success",icon:"check_circle",value:"true"}},[e._v("\n            "+e._s(e.$t("password.updated"))+"\n          ")]):e.userPasswordUpdateError?i("v-alert",{attrs:{outline:"",color:"error",icon:"warning",value:"true"}},[e._v("\n            "+e._s(e.$t("password.updateError"))+"\n            "),i("br"),e._v(" "+e._s(e.password.updateErrorMsg)+"\n          ")]):e._e(),e._v(" "),i("v-text-field",{attrs:{label:e.$t("password.old"),rules:e.passwordRules.old,"append-icon":e.e1?"visibility":"visibility_off","append-icon-cb":function(){return e.e1=!e.e1},type:e.e1?"password":"text",counter:""},model:{value:e.password.old,callback:function(t){e.$set(e.password,"old",t)},expression:"password.old"}}),e._v(" "),i("v-text-field",{attrs:{label:e.$t("password.new"),rules:e.passwordRules.new,min:"8","append-icon":e.e2?"visibility":"visibility_off","append-icon-cb":function(){return e.e2=!e.e2},type:e.e2?"password":"text",counter:""},model:{value:e.password.new,callback:function(t){e.$set(e.password,"new",t)},expression:"password.new"}}),e._v(" "),i("v-text-field",{attrs:{label:e.$t("password.repeat"),rules:e.passwordRules.repeat,min:"8","append-icon":e.e3?"visibility":"visibility_off","append-icon-cb":function(){return e.e3=!e.e3},type:e.e3?"password":"text",counter:""},model:{value:e.password.repeat,callback:function(t){e.$set(e.password,"repeat",t)},expression:"password.repeat"}})],1),e._v(" "),i("v-card-actions",[i("v-btn",{staticClass:"blue--text",attrs:{flat:""},on:{click:function(t){e.clearPasswords()}}},[e._v(e._s(e.$t("password.clear")))]),e._v(" "),i("v-btn",{staticClass:"green--text",attrs:{flat:"",disabled:!e.passwordValid},on:{click:function(t){e.editPasswordAndClear()}}},[e._v(e._s(e.$t("password.change")))])],1)],1),e._v(" "),i("v-card-actions",[i("v-spacer"),e._v(" "),i("v-btn",{staticClass:"black--text",attrs:{flat:""},nativeOn:{click:function(t){e.$store.state.profileDialog=!1}}},[e._v(e._s(e.$t("close")))])],1)],1)],1)],1)},staticRenderFns:[]},I=i("VU/8")(_,C,!1,null,null,null).exports,T={name:"app",data:function(){return{}},computed:l()({},Object(n.c)("auth",["isLogged"])),components:{Sidebar:u,Toolbar:f,AlertBox:y,Footnote:b,BackTop:k,Profile:I}},E={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("sidebar"),e._v(" "),i("toolbar"),e._v(" "),i("v-content",{staticClass:"content"},[i("v-container",{staticClass:"main-container",attrs:{fluid:"","fill-height":""}},[i("v-layout",{staticStyle:{width:"100%"}},[i("v-flex",{attrs:{xs12:""}},[i("v-card",{staticClass:"main-card",attrs:{blue:"",flat:""}},[i("v-card-title",{staticClass:"card-title"},[i("div",{staticClass:"headline"},[null!=e.$store.state.module?[e._v("\n                    "+e._s(e.$t("global.routes."+e.$store.state.module))+"\n                ")]:e._e(),e._v(" "),null!=e.$store.state.page?[i("v-icon",{attrs:{slot:"divider"},slot:"divider"},[e._v("forward")]),e._v("\n                    "+e._s(e.$t("global.routes."+e.$store.state.page))+"\n                ")]:e._e()],2)]),e._v(" "),i("v-card-text",{staticClass:"content-container"},[i("router-view",{staticStyle:{margin:"0 auto"}}),e._v(" "),i("alert-box")],1)],1)],1)],1)],1)],1),e._v(" "),i("footnote"),e._v(" "),i("back-top"),e._v(" "),i("profile")],1)},staticRenderFns:[]};var $=i("VU/8")(T,E,!1,function(e){i("y5b8")},"data-v-6c3c9735",null).exports,P={data:function(){return{}},created:function(){this.setModule("home.name")},methods:l()({},Object(n.d)(["setModule"]))},S={render:function(){var e=this.$createElement,t=this._self._c||e;return t("v-container",{staticStyle:{"min-height":"80vh"},attrs:{fluid:"","fill-height":""}},[t("v-layout",{attrs:{"justify-center":"","align-center":""}},[t("img",{attrs:{src:i("g2Y0")("./"+this.$store.state.logoLg),width:"400"}})])],1)},staticRenderFns:[]},D=i("VU/8")(P,S,!1,null,null,null).exports,j={data:function(){return{}},created:function(){this.setModule("crm.name")},methods:l()({},Object(n.d)(["setModule"]))},M={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("router-view")],1)},staticRenderFns:[]},U=i("VU/8")(j,M,!1,null,null,null).exports,z=i("BO1k"),F=i.n(z),O=i("Gu7T"),A=i.n(O),N=i("aYpo"),R=i("o31/"),V={components:{VueEditor:N.VueEditor},props:["title","detailsFields"],data:function(){return{upload:{active:!1,data:{}},searchPhrases:{},searchLoading:{},searchData:{}}},created:function(){var e=this;this.resetItem(),this.upload.active=!1;var t=function(t){if(t.required=0!=t.required,t.updateColumn=!1,"select"==t.type){var i=t.url;if(t.async)e.$set(e.searchPhrases,"search_"+t.name,""),e.$set(e.searchLoading,"search_"+t.name,!1),e.$set(e.searchData,"search_"+t.name,[]),e.$set(t.list,"oldSearch","");else{t.list.data=[];var s=void 0;a.a.http.get(i).then(function(e){var i=e.body;if(s=i.map(function(e){var i=e;if(void 0!==t.list.activeColumn&&(i.itemDisabled=0==e[t.list.activeColumn]),void 0!==t.list.complexName){var a=t.list.complexName.map(function(t){return t.split(".").reduce(function(e,t){return e[t]||""},e)});i.complexName=a.join(", ")}return i}),t.required)t.list.data=s;else{var a={};a[t.list.value]="",a[t.list.text]="-",t.list.data=[a].concat(A()(s))}})}}},i=!0,s=!1,n=void 0;try{for(var o,r=F()(this.fields);!(i=(o=r.next()).done);i=!0){t(o.value)}}catch(e){s=!0,n=e}finally{try{!i&&r.return&&r.return()}finally{if(s)throw n}}},watch:{details:{handler:function(e){var t=this;if(1==e.show&&"edit"==e.action){var i=function(e){if("select"==e.type&&e.async){e.list.oldSearch="";var i=void 0,s=e.url+"/id/"+e.value;a.a.http.get(s).then(function(a){var s=a.body;i=void 0!==e.list.complexName?s.map(function(t){var i=t,a=e.list.complexName.map(function(e){return e.split(".").reduce(function(e,t){return e[t]||""},t)});return i.complexName=a.join(", "),i}):s,t.$set(t.searchData,"search_"+e.name,i)})}},s=!0,n=!1,o=void 0;try{for(var r,l=F()(this.fields);!(s=(r=l.next()).done);s=!0){i(r.value)}}catch(e){n=!0,o=e}finally{try{!s&&l.return&&l.return()}finally{if(n)throw o}}}},deep:!0},searchPhrases:{handler:function(e){var t=this;setTimeout(function(){var i=function(i){if("select"==i.type&&i.async){var s=e["search_"+i.name],n=t.searchPhrases["search_"+i.name];if(null!=s&&void 0!=s&&s!=i.list.oldSearch&&s==n){i.list.oldSearch=s;var o=void 0,r=i.url+"/phrase/"+e["search_"+i.name];t.$set(t.searchLoading,"search_"+i.name,!0),a.a.http.get(r).then(function(e){t.$set(t.searchLoading,"search_"+i.name,!1);var a=e.body;o=void 0!==i.list.complexName?a.map(function(e){var t=e,a=i.list.complexName.map(function(t){return t.split(".").reduce(function(e,t){return e[t]||""},e)});return t.complexName=a.join(", "),t}):a,t.$set(t.searchData,"search_"+i.name,o)})}}},s=!0,n=!1,o=void 0;try{for(var r,l=F()(t.fields);!(s=(r=l.next()).done);s=!0){i(r.value)}}catch(e){n=!0,o=e}finally{try{!s&&l.return&&l.return()}finally{if(n)throw o}}},500)},deep:!0}},computed:l()({},Object(n.e)("crud",["details","path","prefix","selectedIds"]),{fields:function(){var e=this;return this.detailsFields.map(function(t){var i=t;if(i.multipleUpdate=void 0==t.multipleUpdate||t.multipleUpdate,i.value=e.details.item[t.column],void 0!==i.value){if("select"==t.type){var a=t.list.default||1;i.value=t.stringId?e.details.item[t.column]:parseInt(e.details.item[t.column])||a}else"datePicker"==t.type?i.value=e.details.item[t.column].substring(0,10):"checkbox"==t.type&&(i.value="1"==e.details.item[t.column]);if(t.apiObject&&t.apiObject.useFunctionsInDetails)for(var s=t.apiObject.functions||[],n=R.b,o=0;o<s.length;o++){var r=s[o];i.value=n[r](i.value)}}else"checkbox"==t.type&&(i.value=!1);return i})},itemData:function(){var e={},t=!0,i=!1,a=void 0;try{for(var s,n=F()(this.fields);!(t=(s=n.next()).done);t=!0){var o=s.value;e[o.column]=o.value?o.value:null}}catch(e){i=!0,a=e}finally{try{!t&&n.return&&n.return()}finally{if(i)throw a}}if(this.upload.active)for(var r in this.upload.data)e[r]=this.upload.data[r];return e},rules:function(){var e=this;return{input:[function(t){return!!t||e.$t("rules.required")}]}}}),methods:l()({},Object(n.b)("crud",["updateItem","storeItem","mulitipleItemsUpdate"]),Object(n.d)("crud",["resetItem"]),{close:function(){this.details.show=!1},isRequired:function(e){return"multiedit"!=this.details.action&&(void 0==e||e)},update:function(){this.close(),this.updateItem([this.details.id,this.itemData,this.$t("global.alerts.updated"),this.$t("global.alerts.updateError")])},store:function(){this.close(),this.storeItem([this.itemData,this.$t("global.alerts.stored"),this.$t("global.alerts.storeError")])},updateSelected:function(){var e=this.fields.filter(function(e){return e.updateColumn}),t={},i=!0,a=!1,s=void 0;try{for(var n,o=F()(e);!(i=(n=o.next()).done);i=!0){var r=n.value;t[r.column]=r.value}}catch(e){a=!0,s=e}finally{try{!i&&o.return&&o.return()}finally{if(a)throw s}}this.mulitipleItemsUpdate([{ids:this.selectedIds,request:t},this.$t("global.alerts.suspended"),this.$t("global.alerts.suspendError")])},fileSelected:function(e){var t=this,i=e.target.files[0];if(i){var a=new FormData;a.append("file",i),a.append("module",this.prefix),a.append("folder",this.path),this.$http.post("files/file-upload",a,{}).then(function(e){t.upload={active:!0,data:{filename:i.name,mime:i.type,size:i.size,path:e.body,uploaded:1}}})}}}),i18n:{messages:{pl:{multipleUpdateTitle:"Aktualizacja wielu rekordów",rules:{required:"Pole jest wymagane",atLeast:"Pole musi mieć przynajmniej",less:"Pole musi mieć mniej niż",more:"Pole musi mieć więcej niż",characters:"znaków",emailMustBeValid:"E-mail musi mieć poprawny format",passwordMustDiffer:"Nowe hasło musi się różnić od poprzedniego",passwordMustBeSame:"Hasła nie mogą się różnić"},buttons:{create:"Utwórz",modify:"Modyfikuj",modifySelected:"Modyfikuj wybrane rekordy",close:"Zamknij"},upload:"Wgraj plik"},en:{multipleUpdateTitle:"Multiple records update",rules:{required:"Field is required",atLeast:"Field must be at least",less:"Field must be less than",more:"Pole musi mieć more than",characters:"characters",emailMustBeValid:"E-mail must be valid",passwordMustDiffer:"New password must be different from the old password",passwordMustBeSame:"Password can't be different"},buttons:{create:"Create",modify:"Modify",modifySelected:"Modify selected records",close:"Close"},upload:"Upload file"}}}},L={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-dialog",{staticStyle:{position:"static !important"},attrs:{persistent:"","max-width":"600"},model:{value:e.details.show,callback:function(t){e.$set(e.details,"show",t)},expression:"details.show"}},[i("v-card",[i("v-card-title",{staticClass:"headline"},[e._v(e._s("multiedit"==e.details.action?e.$t("multipleUpdateTitle"):e.title))]),e._v(" "),i("v-form",{model:{value:e.details.formValid,callback:function(t){e.$set(e.details,"formValid",t)},expression:"details.formValid"}},[i("v-card-text",{staticClass:"details-list"},e._l(e.fields,function(t,a){return t.multipleUpdate||"multiedit"!=e.details.action?i("div",{key:a},[i("v-layout",{attrs:{row:"",wrap:""}},["multiedit"==e.details.action?i("v-flex",{staticClass:"sm1"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.updateColumn,expression:"field.updateColumn"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.updateColumn)?e._i(t.updateColumn,null)>-1:t.updateColumn},on:{change:function(i){var a=t.updateColumn,s=i.target,n=!!s.checked;if(Array.isArray(a)){var o=e._i(a,null);s.checked?o<0&&(t.updateColumn=a.concat([null])):o>-1&&(t.updateColumn=a.slice(0,o).concat(a.slice(o+1)))}else e.$set(t,"updateColumn",n)}}})]):e._e(),e._v(" "),i("v-flex",{class:"multiedit"==e.details.action?"sm11":"sm12"},["input"==t.type?i("v-text-field",{attrs:{"hide-details":"",required:e.isRequired(t.required),label:t.text},model:{value:t.value,callback:function(i){e.$set(t,"value",i)},expression:"field.value"}}):"number"==t.type?i("v-text-field",{attrs:{"hide-details":"",required:e.isRequired(t.required),label:t.text,type:"number",step:"1",min:"0"},model:{value:t.value,callback:function(i){e.$set(t,"value",i)},expression:"field.value"}}):"decimal"==t.type?i("v-text-field",{attrs:{"hide-details":"",required:e.isRequired(t.required),label:t.text,type:"number",step:"0.01",min:"0"},model:{value:t.value,callback:function(i){e.$set(t,"value",i)},expression:"field.value"}}):"date"==t.type?i("v-text-field",{attrs:{"hide-details":"",required:e.isRequired(t.required),label:t.text,mask:"####-##-##","return-masked-value":""},model:{value:t.value,callback:function(i){e.$set(t,"value",i)},expression:"field.value"}}):"time"==t.type?i("v-text-field",{attrs:{"hide-details":"",required:e.isRequired(t.required),label:t.text,mask:"##:##","return-masked-value":""},model:{value:t.value,callback:function(i){e.$set(t,"value",i)},expression:"field.value"}}):"datetime"==t.type?i("v-text-field",{attrs:{"hide-details":"",required:e.isRequired(t.required),label:t.text,mask:"####-##-## ##:##:##","return-masked-value":""},model:{value:t.value,callback:function(i){e.$set(t,"value",i)},expression:"field.value"}}):"textarea"==t.type?i("v-text-field",{attrs:{"hide-details":"",required:e.isRequired(t.required),label:t.text,"multi-line":""},model:{value:t.value,callback:function(i){e.$set(t,"value",i)},expression:"field.value"}}):"file"==t.type?[i("v-btn",{staticClass:"blue jbtn-file",attrs:{dark:""}},[e._v("\n                  "+e._s(e.$t("upload"))+"\n                  "),i("input",{ref:"fileInput",refInFor:!0,attrs:{id:"selectFile",type:"file",accept:"*",multiple:!1,disabled:!1},on:{change:e.fileSelected}})])]:"select"==t.type?[t.async?i("v-select",{attrs:{"hide-details":"",required:e.isRequired(t.required),loading:e.searchLoading["search_"+t.name],items:e.searchData["search_"+t.name],"search-input":e.searchPhrases["search_"+t.name],flat:"","item-text":t.list.text,"item-value":t.list.value,"item-disabled":"itemDisabled",label:t.text,bottom:"",autocomplete:""},on:{"update:searchInput":function(i){e.$set(e.searchPhrases,"search_"+t.name,i)}},model:{value:t.value,callback:function(i){e.$set(t,"value",i)},expression:"field.value"}}):i("v-select",{attrs:{"hide-details":"",required:e.isRequired(t.required),items:t.list.data,"item-text":t.list.text,"item-value":t.list.value,"item-disabled":"itemDisabled",label:t.text,bottom:"",autocomplete:""},model:{value:t.value,callback:function(i){e.$set(t,"value",i)},expression:"field.value"}})]:"datePicker"==t.type?i("v-menu",{attrs:{lazy:"","close-on-content-click":!0,transition:"scale-transition","offset-y":"","full-width":"","nudge-right":40,"min-width":"290px","return-value":t.value},on:{"update:returnValue":function(i){e.$set(t,"value",i)}},model:{value:t.show,callback:function(i){e.$set(t,"show",i)},expression:"field.show"}},[i("v-text-field",{attrs:{slot:"activator","hide-details":"",label:t.text,"prepend-icon":"event"},slot:"activator",model:{value:t.value,callback:function(i){e.$set(t,"value",i)},expression:"field.value"}}),e._v(" "),i("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:t.value,callback:function(i){e.$set(t,"value",i)},expression:"field.value"}})],1):"richTextBox"==t.type?[i("label",[e._v(e._s(t.text))]),e._v(" "),i("vue-editor",{attrs:{id:"editor",editorOptions:{bounds:"#editor"}},model:{value:t.value,callback:function(i){e.$set(t,"value",i)},expression:"field.value"}}),e._v(" "),i("br")]:"checkbox"==t.type?i("span",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"field.value"}],attrs:{type:"checkbox",color:"blue",label:t.text},domProps:{checked:Array.isArray(t.value)?e._i(t.value,null)>-1:t.value},on:{change:function(i){var a=t.value,s=i.target,n=!!s.checked;if(Array.isArray(a)){var o=e._i(a,null);s.checked?o<0&&(t.value=a.concat([null])):o>-1&&(t.value=a.slice(0,o).concat(a.slice(o+1)))}else e.$set(t,"value",n)}}}),e._v(" "),i("label",{staticClass:"checkbox-label"},[e._v(e._s(t.text))])]):e._e()],2)],1)],1):e._e()})),e._v(" "),i("v-card-actions",[i("v-spacer"),e._v(" "),i("v-btn",{attrs:{color:"black",flat:"flat"},nativeOn:{click:function(t){e.close()}}},[e._v(e._s(e.$t("buttons.close")))]),e._v(" "),"create"==e.details.action?i("v-btn",{attrs:{disabled:!e.details.formValid,color:"green",flat:"flat"},on:{click:function(t){e.store()}}},[e._v(e._s(e.$t("buttons.create")))]):"edit"==e.details.action?i("v-btn",{attrs:{disabled:!e.details.formValid,color:"orange",flat:"flat"},on:{click:function(t){e.update()}}},[e._v(e._s(e.$t("buttons.modify")))]):"multiedit"==e.details.action?i("v-btn",{attrs:{disabled:!e.details.formValid,color:"orange",flat:"flat"},on:{click:function(t){e.updateSelected()}}},[e._v(e._s(e.$t("buttons.modifySelected")))]):e._e()],1)],1)],1)],1)},staticRenderFns:[]};var q=i("VU/8")(V,L,!1,function(e){i("ndJn")},"data-v-91da441c",null).exports,B={props:["details"],data:function(){return{selected:[],tmp:"",search:"",pagination:{sortBy:"added",descending:!0},selectedStatuses:[1,0]}},computed:l()({},Object(n.e)("crud",["itemElements"]),{statuses:function(){return[{text:this.$t("status.added"),value:1},{text:this.$t("status.noAdded"),value:0}]},headers:function(){var e=this.itemElements.columns.map(function(e){var t={};return t.text=e.header,t.align="center",t.value=e.name,t}),t=[{text:this.$t("fields.action"),align:"center",sortable:!1}],i=[{text:this.$t("fields.added"),value:"added"}];return[].concat(t,A()(e),i)},items:function(){var e=this.itemElements.itemObject,t=this.itemElements.columns,i=this.itemElements.data.map(function(i){var a={};a.id=i.id;var s=!0,n=!1,o=void 0;try{for(var r,l=F()(t);!(s=(r=l.next()).done);s=!0){var c=r.value,d=c.obj.split(".").reduce(function(e,t){return e[t]||""},i);a[c.name]=d}}catch(e){n=!0,o=e}finally{try{!s&&l.return&&l.return()}finally{if(n)throw o}}return void 0!==i[e]&&(i[e].length>0?(a.added="<span hidden>1</span>Tak",a.filterStatus=1,a.connectionId=i[e][0].id):(a.added="<span hidden>0</span>Nie",a.filterStatus=0)),a});return i},filteredItems:function(){var e=this,t=this.items.filter(function(t){return e.selectedStatuses.includes(t.filterStatus)}),i=""==this.search?[]:this.search.toLowerCase().split(" "),a=t.filter(function(e){for(var t=!0,a=0;a<i.length;a++){for(var s in t=!1,e){var n=e[s];("string"==typeof n||n instanceof String||"number"==typeof n)&&(n=n.toString().toLowerCase()).includes(i[a])&&(t=!0)}if(!t)break}return t});return a}}),methods:l()({},Object(n.b)("crud",["addItemElement","removeItemElement","addManyItemElements","removeManyItemElements"]),{add:function(e){var t={};t[this.itemElements.primaryId]=this.itemElements.id,t[this.itemElements.foreignId]=e,this.addItemElement([t,this.$t("global.alerts.added"),this.$t("global.alerts.addError")])},remove:function(e){this.removeItemElement([e,this.$t("global.alerts.removed"),this.$t("global.alerts.removeError")])},addMany:function(){var e=this,t=this.selected.filter(function(e){return void 0==e.connectionId}).map(function(t){var i={};return i[e.itemElements.primaryId]=e.itemElements.id,i[e.itemElements.foreignId]=t.id,i});this.addManyItemElements([{items:t},this.$t("global.alerts.added"),this.$t("global.alerts.addError")]),this.clearSelected()},removeMany:function(){var e=this.selected.filter(function(e){return void 0!==e.connectionId}).map(function(e){return e.connectionId});this.removeManyItemElements([{ids:e},this.$t("global.alerts.added"),this.$t("global.alerts.addError")]),this.clearSelected()},close:function(){this.itemElements.show=!1,this.$parent.itemElementsClosed()},clearSelected:function(){this.selected=[]}}),i18n:{messages:{pl:{available:"Dostępne",selected:"Wybrane",noItemsSelected:"Nie wybrano żadnego elementu",confirm:"Czy na pewno chcesz to zrobić?",fields:{action:"Akcja",name:"Nazwa",added:"Dodano"},status:{title:"Status",added:"Dodane",noAdded:"Nie dodane"},search:"Szukaj",noMatchingResults:"Nie znaleziono pasujących rekordów",noDataAvailable:"Brak danych",rowsPerPageText:"Rekordów na stronę:",records:"Rekordy",from:"z",add:"Dodaj",all:"Wszystko",buttons:{remove:"Usuń",add:"Dodaj",removeMany:"Usuń wiele",addMany:"Dodaj wiele",close:"Zamknij"}},en:{available:"Available",selected:"Selected",noItemsSelected:"No items selected",confirm:"Are you sure?",fields:{action:"Action",name:"Name",added:"Added"},status:{title:"Status",added:"Added",noAdded:"No added"},search:"Search",noMatchingResults:"No matching records found",noDataAvailable:"No data available",rowsPerPageText:"Rows per page:",records:"Records",from:"from",add:"Add",all:"All",buttons:{remove:"Dalete",add:"Add",removeMany:"Delete many",addMany:"Add many",close:"Close"}}}}},W={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-dialog",{attrs:{persistent:"","max-width":"800"},model:{value:e.itemElements.show,callback:function(t){e.$set(e.itemElements,"show",t)},expression:"itemElements.show"}},[i("v-card",[i("v-card-title",{staticClass:"headline"},[e._v(e._s(e.itemElements.title))]),e._v(" "),i("v-card-title",[[i("v-tooltip",{attrs:{top:""}},[i("v-btn",{staticClass:"white--text",attrs:{slot:"activator",fab:"",small:"",color:"red"},on:{click:function(t){e.removeMany()}},slot:"activator"},[i("v-icon",[e._v("delete")])],1),e._v(" "),i("span",[e._v(e._s(e.$t("buttons.removeMany")))])],1),e._v(" "),i("v-tooltip",{attrs:{top:""}},[i("v-btn",{staticClass:"white--text",attrs:{slot:"activator",fab:"",small:"",color:"green"},on:{click:function(t){e.addMany()}},slot:"activator"},[i("v-icon",[e._v("add")])],1),e._v(" "),i("span",[e._v(e._s(e.$t("buttons.addMany")))])],1)],e._v(" "),[i("v-spacer"),e._v(" "),i("v-select",{attrs:{label:e.$t("status.title"),items:e.statuses,"single-line":"","item-text":"text","item-value":"value",multiple:"",chips:""},model:{value:e.selectedStatuses,callback:function(t){e.selectedStatuses=t},expression:"selectedStatuses"}})],e._v(" "),i("v-spacer"),e._v(" "),i("v-text-field",{attrs:{"append-icon":"search",label:e.$t("search"),"single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],2),e._v(" "),i("v-data-table",{attrs:{"disable-initial-sort":!0,"must-sort":!0,pagination:e.pagination,"select-all":"black","rows-per-page-items":[10,25,{text:e.$t("all"),value:-1}],light:"",headers:e.headers,items:e.filteredItems,"no-results-text":e.$t("noMatchingResults"),"no-data-text":e.$t("noDataAvailable"),"rows-per-page-text":e.$t("rowsPerPageText")},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[i("td",[i("v-checkbox",{attrs:{"hide-details":"",color:"black"},model:{value:t.selected,callback:function(i){e.$set(t,"selected",i)},expression:"props.selected"}})],1),e._v(" "),i("td",{staticClass:"text-xs-center"},[["<span hidden>1</span>Tak"==t.item.added?i("v-tooltip",{attrs:{top:""}},[i("v-btn",{staticClass:"xs white--text",attrs:{slot:"activator",fab:"",small:"",color:"red"},on:{click:function(i){e.remove(t.item.connectionId)}},slot:"activator"},[i("v-icon",[e._v("delete")])],1),e._v(" "),i("span",[e._v(e._s(e.$t("buttons.remove")))])],1):i("v-tooltip",{attrs:{top:""}},[i("v-btn",{staticClass:"xs white--text",attrs:{slot:"activator",fab:"",small:"",color:"green"},on:{click:function(i){e.add(t.item.id)}},slot:"activator"},[i("v-icon",[e._v("add")])],1),e._v(" "),i("span",[e._v(e._s(e.$t("buttons.add")))])],1)]],2),e._v(" "),e._l(t.item,function(t,a){return["id","connectionId","filterStatus"].includes(a)?e._e():i("td",{key:a,staticClass:"text-xs-center",domProps:{innerHTML:e._s(t)}})})]}},{key:"pageText",fn:function(t){var i=t.pageStart,a=t.pageStop,s=t.itemsLength;return[e._v("\n        "+e._s(e.$t("records"))+" "+e._s(i)+" - "+e._s(a)+" "+e._s(e.$t("from"))+" "+e._s(s)+"\n      ")]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}}),e._v(" "),i("v-card-actions",[i("v-spacer"),e._v(" "),i("v-btn",{attrs:{color:"black",flat:"flat"},nativeOn:{click:function(t){e.close()}}},[e._v(e._s(e.$t("buttons.close")))])],1)],1)],1)},staticRenderFns:[]};var Z=i("VU/8")(B,W,!1,function(e){i("e0/B")},"data-v-15fd65a3",null).exports,Y={computed:l()({},Object(n.e)(["filesPath"]),Object(n.e)("crud",["imageContainer"]),{image:function(){return this.imageContainer.item.meta?this.filesPath+this.imageContainer.item.meta.path+"/"+this.imageContainer.item.filename:""}}),methods:l()({},Object(n.d)("crud",["closeImageContainer"])),i18n:{messages:{pl:{buttons:{close:"Zamknij"}},en:{buttons:{close:"Close"}}}}},G={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-dialog",{attrs:{"max-width":"1000"},model:{value:e.imageContainer.show,callback:function(t){e.$set(e.imageContainer,"show",t)},expression:"imageContainer.show"}},[i("v-card",{staticClass:"text-xs-center"},[i("v-card-title",{attrs:{"primary-title":""}}),e._v(" "),i("v-card-text",[i("div",[i("h3",{staticClass:"headline mb-0"},[e._v(e._s(e.imageContainer.item.description))]),e._v(" "),i("div",[e._v(e._s(e.imageContainer.item.filename))]),e._v(" "),i("div",[e._v(e._s(e.imageContainer.item.size))])]),e._v(" "),i("img",{staticStyle:{"max-height":"50vh"},attrs:{src:e.image}})]),e._v(" "),i("v-card-media"),e._v(" "),i("v-card-actions",[i("v-spacer"),e._v(" "),i("v-btn",{attrs:{flat:"",color:"black"},on:{click:function(t){e.closeImageContainer()}}},[e._v(e._s(e.$t("buttons.close")))])],1)],1)],1)},staticRenderFns:[]},J={components:{ItemDetails:q,ItemElements:Z,ImageContainer:i("VU/8")(Y,G,!1,null,null,null).exports},props:{prefix:String,path:String,fieldsInfo:Array,detailsTitle:String,pageTitle:String,editButton:{type:Boolean,default:!0},deleteMode:{type:String,validator:function(e){return-1!==["none","soft","hard","both"].indexOf(e)},default:"soft"},customHeaderButtons:{type:Array,default:function(){return[]}},customButtons:{type:Array,default:function(){return[]}},meta:{type:Array,default:function(){return[]}},itemElements:{type:Object,default:function(){}},fileMode:{type:Boolean,default:!1},watchForCreation:{type:Boolean,default:!1},primaryKey:{type:String,default:"id"},activeColumnName:{type:String,default:"active"},mode:{type:String,validator:function(e){return-1!==["ClientSide","ServerSide"].indexOf(e)},default:"ClientSide"}},data:function(){return{}},computed:l()({},Object(n.e)("crud",["detailsLoading"]),{tableFields:function(){return this.fieldsInfo.filter(function(e){return 0!=e.table&&"divider"!=e.type})},detailsFields:function(){return this.fieldsInfo.filter(function(e){return 0!=e.details&&"divider"!=e.type})},componentLoader:function(){var e=this;return function(){return i("/SGs")("./DataTable"+e.mode+".vue")}}}),created:function(){this.setPrefix(this.prefix),this.setPath(this.path),this.setPage(this.pageTitle);var e=this.watchForCreation?"inform":"ignore";this.setCreationMode(e)},methods:l()({},Object(n.d)(["setPage"]),Object(n.d)("crud",["refreshTable","setPrefix","setPath","setCreationMode"]),{custom:function(e,t){this.$parent[e](t)},itemElementsClosed:function(){this.refreshTable()}})},H={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticStyle:{position:"relative"}},[i("div",[i(e.componentLoader,{tag:"component",attrs:{meta:e.meta,customButtons:e.customButtons,itemElements:e.itemElements,deleteMode:e.deleteMode,editButton:e.editButton,fileMode:e.fileMode,tableFields:e.tableFields,primaryKey:e.primaryKey,activeColumnName:e.activeColumnName}}),e._v(" "),i("item-details",{attrs:{title:e.detailsTitle,detailsFields:e.detailsFields}}),e._v(" "),i("item-elements"),e._v(" "),i("image-container")],1),e._v(" "),i("div",{staticClass:"details-loader-container"},[e.detailsLoading?i("v-layout",{staticClass:"details-loader",attrs:{"justify-center":"","align-center":""}},[i("v-progress-circular",{attrs:{indeterminate:"",size:100,width:3,color:"primary"}})],1):e._e()],1)])},staticRenderFns:[]};var K=i("VU/8")(J,H,!1,function(e){i("c0lt")},"data-v-0e52456a",null).exports,Q={name:"item-details-extended",props:["fieldsInfo","title"],data:function(){return{files:null,searchPhrases:{},searchLoading:{},searchData:{},reload:!1}},created:function(){var e=this,t=function(t){if(t.required=0!=t.required,"select"==t.type){var i=t.url;if(t.async)e.$set(e.searchPhrases,"search_"+t.name,""),e.$set(e.searchLoading,"search_"+t.name,!1),e.$set(e.searchData,"search_"+t.name,[]),e.$set(t.list,"oldSearch","");else{t.list.data=[];var s=void 0;a.a.http.get(i).then(function(e){var i=e.body;if(s=i.map(function(e){var i=e;if(void 0!==t.list.activeColumn&&(i.itemDisabled=0==e[t.list.activeColumn]),void 0!==t.list.complexName){var a=t.list.complexName.map(function(t){return t.split(".").reduce(function(e,t){return e[t]||""},e)});i.complexName=a.join(", ")}return i}),t.required)t.list.data=s;else{var a={};a[t.list.value]="",a[t.list.text]="-",t.list.data=[a].concat(A()(s))}})}}},i=!0,s=!1,n=void 0;try{for(var o,r=F()(this.fields);!(i=(o=r.next()).done);i=!0){t(o.value)}}catch(e){s=!0,n=e}finally{try{!i&&r.return&&r.return()}finally{if(s)throw n}}},watch:{detailsDialog:{handler:function(e){var t=this;if(1==e){var i=function(e){if("select"==e.type&&e.async){e.list.oldSearch="";var i=void 0,s=e.url+"/id/"+e.value;a.a.http.get(s).then(function(a){var s=a.body;i=void 0!==e.list.complexName?s.map(function(t){var i=t,a=e.list.complexName.map(function(e){return e.split(".").reduce(function(e,t){return e[t]||""},t)});return i.complexName=a.join(", "),i}):s,t.$set(t.searchData,"search_"+e.name,i)})}},s=!0,n=!1,o=void 0;try{for(var r,l=F()(this.fields);!(s=(r=l.next()).done);s=!0){i(r.value)}}catch(e){n=!0,o=e}finally{try{!s&&l.return&&l.return()}finally{if(n)throw o}}e=!1}},deep:!0},searchPhrases:{handler:function(e){var t=this;setTimeout(function(){var i=function(i){if("select"==i.type&&i.async){var s=e["search_"+i.name],n=t.searchPhrases["search_"+i.name];if(null!=s&&void 0!=s&&s!=i.list.oldSearch&&s==n){i.list.oldSearch=s;var o=void 0,r=i.url+"/phrase/"+e["search_"+i.name];t.$set(t.searchLoading,"search_"+i.name,!0),a.a.http.get(r).then(function(e){t.$set(t.searchLoading,"search_"+i.name,!1);var a=e.body;o=void 0!==i.list.complexName?a.map(function(e){var t=e,a=i.list.complexName.map(function(t){return t.split(".").reduce(function(e,t){return e[t]||""},e)});return t.complexName=a.join(", "),t}):a,t.$set(t.searchData,"search_"+i.name,o)})}}},s=!0,n=!1,o=void 0;try{for(var r,l=F()(t.fields);!(s=(r=l.next()).done);s=!0){i(r.value)}}catch(e){n=!0,o=e}finally{try{!s&&l.return&&l.return()}finally{if(n)throw o}}},500)},deep:!0}},computed:l()({},Object(n.e)("crud",["item","itemIdColumn","detailsDialog"]),{fields:function(){var e=this;return this.fieldsInfo.map(function(t){var i=t;if(i.value=e.item[t.column],i.oldValue=i.value,"select"==t.type){var a=t.list.default||"";i.value=(t.stringId?e.item[t.column]:parseInt(e.item[t.column]))||a}return"checkbox"==t.type&&(i.value="1"==e.item[t.column]),i})}}),methods:l()({},Object(n.b)("crud",["updateItemDetail"]),{update:function(e){var t=this;setTimeout(function(){e.value!=e.oldValue&&(a.a.set(t.item,e.column,e.value),setTimeout(function(){var i={};i[e.column]=e.value,t.updateItemDetail([t.item[t.itemIdColumn],i,t.$t("global.alerts.updated")])},100))},100)},remember:function(e){e.oldValue=e.value}})},X={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",[i("v-card-text",{staticClass:"secondary white--text",attrs:{dark:""}},[i("h4",{staticStyle:{"text-transform":"uppercase"}},[e._v(e._s(e.title))])]),e._v(" "),i("v-card-text",{staticClass:"details-container"},[i("v-layout",{attrs:{row:"",wrap:""}},e._l(e.fields,function(t,a){return i("v-flex",{key:a,staticClass:"field",class:t.grid,attrs:{"pr-2":""}},["divider"==t.type?i("h3",{staticClass:"text-xs-center section-header"},[e._v(e._s(t.text))]):e._e(),e._v(" "),"input"==t.type?i("v-text-field",{attrs:{"hide-details":"",label:t.text,disabled:t.disabled},on:{focus:function(i){e.remember(t)},blur:function(i){e.update(t)}},model:{value:t.value,callback:function(i){e.$set(t,"value",i)},expression:"field.value"}}):"decimal"==t.type?i("v-text-field",{attrs:{"hide-details":"",label:t.text,type:"number",step:"0.01",min:"0",disabled:t.disabled},on:{focus:function(i){e.remember(t)},blur:function(i){e.update(t)}},model:{value:t.value,callback:function(i){e.$set(t,"value",i)},expression:"field.value"}}):"date"==t.type?i("v-text-field",{attrs:{"hide-details":"",label:t.text,mask:"####-##-##","return-masked-value":"",disabled:t.disabled},on:{focus:function(i){e.remember(t)},blur:function(i){e.update(t)}},model:{value:t.value,callback:function(i){e.$set(t,"value",i)},expression:"field.value"}}):"textarea"==t.type?i("v-text-field",{attrs:{"hide-details":"",label:t.text,"multi-line":"",disabled:t.disabled},on:{focus:function(i){e.remember(t)},blur:function(i){e.update(t)}},model:{value:t.value,callback:function(i){e.$set(t,"value",i)},expression:"field.value"}}):"select"==t.type?[t.async?i("v-select",{attrs:{"hide-details":"",loading:e.searchLoading["search_"+t.name],items:e.searchData["search_"+t.name],"search-input":e.searchPhrases["search_"+t.name],flat:"","item-text":t.list.text,"item-value":t.list.value,"item-disabled":"itemDisabled",label:t.text,bottom:"",autocomplete:""},on:{"update:searchInput":function(i){e.$set(e.searchPhrases,"search_"+t.name,i)},focus:function(i){e.remember(t)},change:function(i){e.update(t)}},model:{value:t.value,callback:function(i){e.$set(t,"value",i)},expression:"field.value"}}):i("v-select",{attrs:{"hide-details":"",items:t.list.data,"item-text":t.list.text,"item-value":t.list.value,"item-disabled":"itemDisabled",label:t.text,bottom:"",autocomplete:""},on:{focus:function(i){e.remember(t)},change:function(i){e.update(t)}},model:{value:t.value,callback:function(i){e.$set(t,"value",i)},expression:"field.value"}})]:"checkbox"==t.type?i("span",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"field.value"}],attrs:{"hide-details":"",color:"blue",type:"checkbox",label:t.text},domProps:{checked:Array.isArray(t.value)?e._i(t.value,null)>-1:t.value},on:{focus:function(i){e.remember(t)},change:[function(i){var a=t.value,s=i.target,n=!!s.checked;if(Array.isArray(a)){var o=e._i(a,null);s.checked?o<0&&(t.value=a.concat([null])):o>-1&&(t.value=a.slice(0,o).concat(a.slice(o+1)))}else e.$set(t,"value",n)},function(i){e.update(t)}]}}),e._v(" "),i("label",{staticClass:"checkbox-label"},[e._v(e._s(t.text))])]):e._e()],2)}))],1)],1)},staticRenderFns:[]};var ee={name:"item-details",components:{ItemDetailsExtended:i("VU/8")(Q,X,!1,function(e){i("ccrh")},"data-v-777513bf",null).exports},props:["fields","basicInformation","title"],data:function(){return{}},computed:l()({},Object(n.e)("crud",["item","itemIdColumn","detailsLoading","detailsDialog"])),methods:l()({},Object(n.b)("crud",["getItems","getItemDetails"]),Object(n.d)("crud",["hideItemDetailsDialog","setIdColumn","setChildItemsMapping"]),{escapeHandler:function(e){27==e.which&&this.close()},refresh:function(){this.getItemDetails([this.item[this.itemIdColumn]])},close:function(){this.hideItemDetailsDialog()}})},te={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-dialog",{attrs:{fullscreen:"",transition:"dialog-bottom-transition",overlay:!0},model:{value:e.detailsDialog,callback:function(t){e.detailsDialog=t},expression:"detailsDialog"}},[i("v-card",{staticClass:"dialog-content"},[i("v-toolbar",{staticClass:"primary",attrs:{dark:""}},[i("v-layout",{attrs:{row:"",wrap:"","justify-center":"","align-center":""}},[i("v-flex",{staticClass:"xs4 text-xs-left"},[i("v-toolbar-title",[e._v(e._s(e.title))])],1),e._v(" "),i("v-flex",{staticClass:"xs4 text-xs-center"},[i("div",{staticClass:"details-loader-container"},[e.detailsLoading?i("v-layout",{staticClass:"details-loader",attrs:{"justify-center":"","align-center":""}},[i("v-progress-circular",{attrs:{indeterminate:"",size:50,width:2,color:"white"}})],1):e._e()],1)]),e._v(" "),i("v-flex",{staticClass:"xs4 text-xs-right"},[i("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(t){e.refresh()}}},[i("v-icon",[e._v("refresh")])],1),e._v(" "),i("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(t){e.close()}}},[i("v-icon",[e._v("close")])],1)],1)],1)],1),e._v(" "),i("div",{attrs:{"grid-list-md":"","text-xs-center":""}},[i("v-layout",{attrs:{row:"",wrap:""}},[i("v-flex",{attrs:{xs12:"",lg5:"","pa-3":""}},[i("item-details-extended",{attrs:{title:e.basicInformation,fieldsInfo:e.fields}})],1),e._v(" "),i("v-flex",{attrs:{xs12:"",lg7:"","pa-3":""}},[i("v-card",{staticClass:"children-tabs"},[i("v-tabs",{attrs:{color:"secondary",dark:"","slider-color":"primary"}},[e._t("default")],2)],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var ie=i("VU/8")(ee,te,!1,function(e){i("jb3r")},"data-v-2e6f1ec4",null).exports,ae={name:"item-details",props:["fields"],methods:l()({},Object(n.d)("crud",["setIdColumn","setChildItemsMapping"]))},se={computed:{fieldsInfo:function(){return[{text:this.$t("fields.id"),name:"id",details:!1},{type:"select",url:"crm/companies",list:{value:"id",text:"common_name",data:[]},column:"company_id",text:this.$t("fields.company"),name:"company",apiObject:{name:"company.common_name"}},{type:"select",url:"crm/people",list:{value:"id",text:"fullname",data:[]},column:"person_id",text:this.$t("fields.person"),name:"person",apiObject:{name:"person.fullname"}},{type:"input",column:"name",text:this.$t("fields.name"),required:!1,name:"name"},{type:"input",column:"email",text:this.$t("fields.email"),required:!1,name:"email"},{type:"input",column:"phone",text:this.$t("fields.phone"),required:!1,name:"phone"},{text:this.$t("fields.tasks"),name:"tasks",apiObject:{name:"position_tasks",functions:["listTasks"]},details:!1,hidden:!0},{type:"input",column:"email_2",text:this.$t("fields.email_2"),required:!1,name:"email_2"},{type:"input",column:"phone_2",text:this.$t("fields.phone_2"),required:!1,name:"phone_2"},{type:"input",column:"phone_3",text:this.$t("fields.phone_3"),required:!1,name:"phone_3"},{type:"input",column:"comment",text:this.$t("fields.comment"),required:!1,table:!1}]}}},ne={i18n:{messages:{pl:{detailsTitle:"Stanowisko",fields:{id:"Id",name:"Stanowisko",tasks:"Zadania",company:"Firma",person:"Osoba",phone:"Telefon",phone_2:"Telefon 2",phone_3:"Telefon 3",email:"E-mail",email_2:"E-mail 2",comment:"Komentarz"},itemElements:{positionTasks:{title:"Stanowisko - zadania",headers:{task:"Zadanie"}}}},en:{detailsTitle:"Position",fields:{id:"Id",name:"Position",tasks:"Tasks",company:"Company",person:"Person",phone:"Phone",phone_2:"Phone 2",phone_3:"Phone 3",email:"E-mail",email_2:"E-mail 2",comment:"Comment"},itemElements:{positionTasks:{title:"Position - tasks",headers:{task:"Task"}}}}}}},oe={computed:{itemElements:function(){return{positionTasks:{title:this.$t("itemElements.positionTasks.title"),url:"crm/positions/{id}/tasks",controller:"crm/position-tasks",itemObject:"task_positions",columns:[{obj:"name",name:"task",header:this.$t("itemElements.positionTasks.headers.task")}],primaryId:"position_id",foreignId:"task_id",icon:"list",color:"blue",buttonText:this.$t("itemElements.positionTasks.title")}}}}},re={props:{path:String,childItemName:String,fkName:String,exclude:{type:Array,default:function(){return[]}},activeColumnName:{type:String,default:"active"}},data:function(){return{detailsLoader:!1}},computed:l()({},Object(n.e)("crud",["childItems","itemIdColumn"]),Object(n.c)("crud",["item","childrenList"]),{details:function(){return this.childItems[this.childItemName].details},fileteredTableFields:function(){var e=this;return this.fieldsInfo.filter(function(t){return 0!=t.table&&"divider"!=t.type&&0!=t.childTable&&!e.exclude.includes(t.name)})},fileteredDetailsFields:function(){var e=this;return this.fieldsInfo.filter(function(t){return 0!=t.details&&"divider"!=t.type&&0!=t.childTable&&!e.exclude.includes(t.name)})}}),methods:l()({},Object(n.d)("crud",["hideChildDialog","resetChild","editChildDialog","createChildDialog"]),Object(n.b)("crud",["getItemDetails","updateChild","storeChild","getChild","deleteChild"]),{edit:function(e){var t=this;this.detailsLoader=!0,this.getChild([e,this.path,this.childItemName]).then(function(i){t.editChildDialog([e,t.childItemName]),t.detailsLoader=!1})},create:function(){this.resetChild(this.childItemName),this.createChildDialog(this.childItemName)},suspend:function(e){this.updateChild([e,{active:0},this.$t("global.alerts.suspended"),this.path])},restore:function(e){this.updateChild([e,{active:1},this.$t("global.alerts.restored"),this.path])},reset:function(){this.resetChild(this.childItemName)},close:function(){this.hideChildDialog(this.childItemName)},destroy:function(e){confirm(this.$t("global.alerts.confirm"))&&this.deleteChild([e,this.$t("global.alerts.deleted"),this.$t("global.alerts.deleteError"),this.path])},update:function(e,t){this.close(),this.updateChild([e,t,this.$t("global.alerts.updated"),this.path])},store:function(e){e[this.fkName]=this.item[this.itemIdColumn],this.close(),this.storeChild([e,this.$t("global.alerts.stored"),this.path])},itemElementsClosed:function(){this.getItemDetails([this.item[this.itemIdColumn]])}})},le=i("Uc7C"),ce=i("1FYM"),de={mixins:[le.a,ce.a],props:{fieldsInfo:Array,deleteMode:{type:String,validator:function(e){return-1!==["none","soft","hard","both"].indexOf(e)},default:"soft"},customHeaderButtons:{type:Array,default:function(){return[]}},customButtons:{type:Array,default:function(){return[]}},itemElements:{type:Object,default:function(){}},createButton:{type:Boolean,default:!0},editButton:{type:Boolean,default:!0},fileMode:{type:Boolean,default:!1},meta:{type:Array,default:function(){return[]}},primaryKey:{type:String,default:"id"},tableData:{type:Array,default:function(){return[]}},detailsLoader:{type:Boolean,default:!1}},data:function(){return{}},filters:{cropped:function(e){return"string"==typeof e||e instanceof String?e.length<=40?e:e.substring(0,37)+"...":e}},computed:{tableFields:function(){return this.fieldsInfo.filter(function(e){return 0!=e.table&&"divider"!=e.type})},items:function(){return this.tableData}},methods:l()({},Object(n.d)("crud",["setItemElementsInfo","editItemElementsDialog"]),Object(n.b)("crud",["getItemElements"]),{activityClass:function(e){var t="";return["soft","both"].includes(this.deleteMode)&&(t=1==parseInt(e)?"row-active":"row-inactive"),t},edit:function(e){this.$parent.edit(e)},create:function(){this.$parent.create()},suspend:function(e){this.$parent.suspend(e)},restore:function(e){this.$parent.restore(e)},destroy:function(e){this.$parent.destroy(e)},customHeaderAction:function(e){this.$parent[e]()},updateColumnFilterMode:function(e,t){var i=this.filterColumns;i[t].mode=e,this.$set(this,"filterColumns",i)},updateFilterColumns:function(e,t){var i=this.filterColumns;i[t].value=e,this.$set(this,"filterColumns",i)},editItemElements:function(e,t){var i=this.itemElements[e];console.log(i),this.setItemElementsInfo([t,i]),this.getItemElements()},rowDblclickAction:function(e){this.editButton&&this.edit(e)}})},ue={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{staticClass:"child-card"},[i("v-card-title",{staticClass:"card-title table-controls"},[i("v-layout",{attrs:{row:"",wrap:""}},[i("v-flex",{attrs:{xs12:"",xl4:""}},[e.createButton?i("v-tooltip",{attrs:{top:""}},[i("v-btn",{attrs:{slot:"activator",fab:"",small:"",dark:"",color:"green"},on:{click:function(t){e.create()}},slot:"activator"},[i("v-icon",[e._v("add")])],1),e._v(" "),i("span",[e._v(e._s(e.$t("add")))])],1):e._e(),e._v(" "),e._l(e.customHeaderButtons,function(t){return i("v-tooltip",{key:t.name,attrs:{top:""}},[i("v-btn",{staticClass:"white--text",attrs:{slot:"activator",fab:"",small:"",color:t.color},on:{click:function(i){e.customHeaderAction(t.name)}},slot:"activator"},[i("v-icon",[e._v(e._s(t.icon))])],1),e._v(" "),i("span",[e._v(e._s(t.text))])],1)})],2),e._v(" "),i("v-flex",{attrs:{xs12:"",xl8:"","text-xs-left":"","text-xl-right":""}},[i("v-menu",{attrs:{"offset-y":"","close-on-content-click":!1}},[i("v-btn",{staticClass:"primary",attrs:{slot:"activator",small:"",fab:"",dark:""},slot:"activator"},[i("v-icon",[e._v("filter_list")])],1),e._v(" "),i("v-list",{staticStyle:{"overflow-y":"false"}},e._l(e.filterColumns,function(t,a){return i("v-list-tile",{key:a},[i("v-select",{attrs:{items:e.filterModes,"item-text":"text","item-value":"name",label:e.$t("filterModes.label"),"hide-details":""},on:{input:function(t){e.updateColumnFilterMode(t,a)}},model:{value:t.mode,callback:function(i){e.$set(t,"mode",i)},expression:"item.mode"}}),e._v(" "),i("v-text-field",{attrs:{"hide-details":"",label:t.text},on:{input:function(t){e.updateFilterColumns(t,a)}},model:{value:t.value,callback:function(i){e.$set(t,"value",i)},expression:"item.value"}})],1)}))],1),e._v(" "),i("span",{staticStyle:{display:"inline-block","margin-left":"50px",width:"250px"}},[i("v-text-field",{attrs:{"append-icon":"search",label:e.$t("search"),"single-line":"","hide-details":"","min-width":"200"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),e._v(" "),["soft","both"].includes(e.deleteMode)?[i("span",{staticStyle:{display:"inline-block","margin-left":"50px",width:"250px"}},[i("v-select",{attrs:{label:e.$t("status.title"),items:e.statuses,"single-line":"","item-text":"text","item-value":"value",multiple:"",chips:""},model:{value:e.selectedStatuses,callback:function(t){e.selectedStatuses=t},expression:"selectedStatuses"}})],1)]:e._e()],2)],1)],1),e._v(" "),i("v-data-table",{attrs:{"disable-initial-sort":!0,"must-sort":!0,"rows-per-page-items":[10,25,{text:e.$t("all"),value:-1}],pagination:e.pagination,light:"",headers:e.headers,items:e.filteredItems,"no-results-text":e.$t("noMatchingResults"),"no-data-text":e.$t("noDataAvailable"),"rows-per-page-text":e.$t("rowsPerPageText")},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[i("tr",{class:e.activityClass(t.item.meta.active),on:{dblclick:function(i){e.rowDblclickAction(t.item.meta.id)}}},[i("td",{staticClass:"cell-nowrap"},[e.editButton?i("v-tooltip",{attrs:{top:""}},[i("v-btn",{staticClass:"xs white--text",attrs:{slot:"activator",fab:"",small:"",color:"orange"},on:{click:function(i){e.edit(t.item.meta.id)}},slot:"activator"},[i("v-icon",[e._v("edit")])],1),e._v(" "),i("span",[e._v(e._s(e.$t("buttons.edit")))])],1):e._e(),e._v(" "),e._l(e.itemElements,function(a,s){return i("v-tooltip",{key:s,attrs:{top:""}},[i("v-btn",{staticClass:"xs white--text",attrs:{slot:"activator",outline:"",fab:"",small:"",color:a.color},on:{click:function(i){e.editItemElements(s,t.item.meta.id)}},slot:"activator"},[i("v-icon",[e._v(e._s(a.icon))])],1),e._v(" "),i("span",[e._v(e._s(a.buttonText))])],1)}),e._v(" "),["soft","both"].includes(e.deleteMode)?["1"==t.item.meta.active?i("v-tooltip",{attrs:{top:""}},[i("v-btn",{staticClass:"xs white--text",attrs:{slot:"activator",fab:"",small:"",outline:"",color:"red"},on:{click:function(i){e.suspend(t.item.meta.id)}},slot:"activator"},[i("v-icon",[e._v("undo")])],1),e._v(" "),i("span",[e._v(e._s(e.$t("buttons.suspend")))])],1):i("v-tooltip",{attrs:{top:""}},[i("v-btn",{staticClass:"xs white--text",attrs:{slot:"activator",fab:"",small:"",outline:"",color:"green"},on:{click:function(i){e.restore(t.item.meta.id)}},slot:"activator"},[i("v-icon",[e._v("redo")])],1),e._v(" "),i("span",[e._v(e._s(e.$t("buttons.restore")))])],1)]:e._e(),e._v(" "),["hard","both"].includes(e.deleteMode)?i("v-tooltip",{attrs:{top:""}},[i("v-btn",{staticClass:"xs white--text",attrs:{slot:"activator",outline:"",fab:"",small:"",color:"red"},on:{click:function(i){e.destroy(t.item.meta.id)}},slot:"activator"},[i("v-icon",[e._v("delete")])],1),e._v(" "),i("span",[e._v(e._s(e.$t("buttons.delete")))])],1):e._e()],2),e._v(" "),e._l(t.item,function(t,a){return"meta"!=a?i("td",{key:a,attrs:{"max-width":"20px !important;"}},["html"==e.columnTextModes[a]?i("span",{domProps:{innerHTML:e._s(t)}}):"cropped"==e.columnTextModes[a]?i("span",{staticClass:"cell-nowrap"},[e._v(e._s(e._f("cropped")(t)))]):"text"==e.columnTextModes[a]?i("span",[e._v(e._s(t))]):e._e()]):e._e()})],2)]}},{key:"pageText",fn:function(t){var a=t.pageStart,s=t.pageStop,n=t.itemsLength;return[i("data-table-footer",{attrs:{pagination:e.pagination,pageStart:a,pageStop:s,itemsLength:n},on:{setPage:e.setPage}})]}}])}),e._v(" "),i("div",{staticClass:"details-loader-container"},[e.detailsLoader?i("v-layout",{staticClass:"details-loader",attrs:{"justify-center":"","align-center":""}},[i("v-progress-circular",{attrs:{indeterminate:"",size:100,width:3,color:"primary"}})],1):e._e()],1)],1)},staticRenderFns:[]};var me=i("VU/8")(de,ue,!1,function(e){i("WAei")},"data-v-21e12967",null).exports,pe={props:{details:Object,fieldsInfo:Array},data:function(){return{searchPhrases:{},searchLoading:{},searchData:{},customFilter:function(e,t,i){var a=function(e){return null!=e?e:""},s=a(e.name),n=a(t);return s.toString().toLowerCase().indexOf(n.toString().toLowerCase())>=-1}}},created:function(){var e=this,t=function(t){if("select"==t.type){var i=t.url;if(t.async)e.$set(e.searchPhrases,"search_"+t.name,""),e.$set(e.searchLoading,"search_"+t.name,!1),e.$set(e.searchData,"search_"+t.name,[]),e.$set(t.list,"oldSearch","");else{t.list.data=[];var s=void 0;a.a.http.get(i).then(function(e){var i=e.body;if(s=i.map(function(e){var i=e;if(void 0!==t.list.activeColumn&&(i.itemDisabled=0==e[t.list.activeColumn]),void 0!==t.list.complexName){var a=t.list.complexName.map(function(t){return t.split(".").reduce(function(e,t){return e[t]||""},e)});i.complexName=a.join(", ")}return i}),t.required)t.list.data=s;else{var a={};a[t.list.value]="",a[t.list.text]="-",t.list.data=[a].concat(A()(s))}})}}},i=!0,s=!1,n=void 0;try{for(var o,r=F()(this.fields);!(i=(o=r.next()).done);i=!0){t(o.value)}}catch(e){s=!0,n=e}finally{try{!i&&r.return&&r.return()}finally{if(s)throw n}}},computed:{fields:function(){var e=this;return this.fieldsInfo.filter(function(e){return 0!=e.details&&"divider"!=e.type}).map(function(t){var i=t;if(i.value=e.details.item[t.column],"select"==t.type){var a=t.list.default||1;i.value=t.stringId?e.details.item[t.column]:parseInt(e.details.item[t.column])||a}if(t.apiObject&&t.apiObject.useFunctionsInDetails)for(var s=t.apiObject.functions||[],n=R.b,o=0;o<s.length;o++){var r=s[o];i.value=n[r](i.value)}return i})},itemData:function(){var e={},t=!0,i=!1,a=void 0;try{for(var s,n=F()(this.fields);!(t=(s=n.next()).done);t=!0){var o=s.value;e[o.column]=o.value?o.value:null}}catch(e){i=!0,a=e}finally{try{!t&&n.return&&n.return()}finally{if(i)throw a}}return e},rules:function(){var e=this;return{input:[function(t){return!!t||e.$t("rules.required")}]}}},watch:{details:{handler:function(e){var t=this;if(1==e.show&&"edit"==e.action){var i=function(e){if("select"==e.type&&e.async){e.list.oldSearch="";var i=void 0,s=e.url+"/id/"+e.value;a.a.http.get(s).then(function(a){var s=a.body;i=void 0!==e.list.complexName?s.map(function(t){var i=t,a=e.list.complexName.map(function(e){return e.split(".").reduce(function(e,t){return e[t]||""},t)});return i.complexName=a.join(", "),i}):s,t.$set(t.searchData,"search_"+e.name,i)})}},s=!0,n=!1,o=void 0;try{for(var r,l=F()(this.fields);!(s=(r=l.next()).done);s=!0){i(r.value)}}catch(e){n=!0,o=e}finally{try{!s&&l.return&&l.return()}finally{if(n)throw o}}}},deep:!0},searchPhrases:{handler:function(e){var t=this,i=function(i){if("select"==i.type&&i.async&&void 0!=e["search_"+i.name]){var s=i.url+"/phrase/"+e["search_"+i.name];t.$set(t.searchLoading,"search_"+i.name,!0),a.a.http.get(s).then(function(e){t.$set(t.searchLoading,"search_"+i.name,!1);var a=e.body,s=void 0;s=void 0!==i.list.complexName?a.map(function(e){var t=e,a=i.list.complexName.map(function(t){return t.split(".").reduce(function(e,t){return e[t]||""},e)});return t.complexName=a.join(", "),t}):a,t.$set(t.searchData,"search_"+i.name,s)})}},s=!0,n=!1,o=void 0;try{for(var r,l=F()(this.fields);!(s=(r=l.next()).done);s=!0){i(r.value)}}catch(e){n=!0,o=e}finally{try{!s&&l.return&&l.return()}finally{if(n)throw o}}},deep:!0}},methods:{isRequired:function(e){return void 0==e||e},reset:function(){this.$parent.reset()},close:function(){this.$parent.close()},update:function(){this.$parent.update(this.details.id,this.itemData)},store:function(){this.$parent.store(this.itemData)}},i18n:{messages:{pl:{title:"Szczegóły",rules:{required:"Pole jest wymagane",atLeast:"Pole musi mieć przynajmniej",less:"Pole musi mieć mniej niż",more:"Pole musi mieć więcej niż",characters:"znaków",emailMustBeValid:"E-mail musi mieć poprawny format",passwordMustDiffer:"Nowe hasło musi się różnić od poprzedniego",passwordMustBeSame:"Hasła nie mogą się różnić"},alerts:{updated:"Zaktualizowano",updateError:"Błąd! Aktualizacja nie powiodła się",stored:"Dodano",storeError:"Błąd! Nie udało się dodać rekordu"},buttons:{create:"Utwórz",modify:"Modyfikuj",close:"Zamknij"}},en:{title:"Details",rules:{required:"Field is required",atLeast:"Field must be at least",less:"Field must be less than",more:"Pole musi mieć more than",characters:"characters",emailMustBeValid:"E-mail must be valid",passwordMustDiffer:"New password must be different from the old password",passwordMustBeSame:"Password can't be different"},alerts:{updated:"Updated",updateError:"Error! Update unsuccessful",stored:"Dodano",storeError:"Error! Store unsuccessful"},buttons:{create:"Create",modify:"Modify",close:"Close"}}}}},fe={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-dialog",{attrs:{persistent:"","max-width":"480"},model:{value:e.details.show,callback:function(t){e.$set(e.details,"show",t)},expression:"details.show"}},[i("v-card",[i("v-card-title",{staticClass:"headline"},[e._v(e._s(e.$t("title")))]),e._v(" "),i("v-form",{model:{value:e.details.formValid,callback:function(t){e.$set(e.details,"formValid",t)},expression:"details.formValid"}},[i("v-card-text",e._l(e.fields,function(t,a){return i("div",{key:a},["input"==t.type?i("v-text-field",{attrs:{required:e.isRequired(t.required),"hide-details":"",label:t.text},model:{value:t.value,callback:function(i){e.$set(t,"value",i)},expression:"field.value"}}):"number"==t.type?i("v-text-field",{attrs:{"hide-details":"",label:t.text,type:"number",step:"1",min:"0"},model:{value:t.value,callback:function(i){e.$set(t,"value",i)},expression:"field.value"}}):"decimal"==t.type?i("v-text-field",{attrs:{required:e.isRequired(t.required),"hide-details":"",label:t.text,type:"number",step:"0.01",min:"0"},model:{value:t.value,callback:function(i){e.$set(t,"value",i)},expression:"field.value"}}):"date"==t.type?i("v-text-field",{attrs:{required:e.isRequired(t.required),"hide-details":"",label:t.text,mask:"####-##-##","return-masked-value":""},model:{value:t.value,callback:function(i){e.$set(t,"value",i)},expression:"field.value"}}):"time"==t.type?i("v-text-field",{attrs:{required:e.isRequired(t.required),"hide-details":"",label:t.text,mask:"##:##","return-masked-value":""},model:{value:t.value,callback:function(i){e.$set(t,"value",i)},expression:"field.value"}}):"datetime"==t.type?i("v-text-field",{attrs:{required:e.isRequired(t.required),"hide-details":"",label:t.text,mask:"####-##-## ##:##:##","return-masked-value":""},model:{value:t.value,callback:function(i){e.$set(t,"value",i)},expression:"field.value"}}):"textarea"==t.type?i("v-text-field",{attrs:{required:e.isRequired(t.required),"hide-details":"",label:t.text,"multi-line":""},model:{value:t.value,callback:function(i){e.$set(t,"value",i)},expression:"field.value"}}):"select"==t.type?[t.async?i("v-select",{attrs:{"hide-details":"",required:e.isRequired(t.required),loading:e.searchLoading["search_"+t.name],items:e.searchData["search_"+t.name],"search-input":e.searchPhrases["search_"+t.name],flat:"","item-text":t.list.text,"item-value":t.list.value,"item-disabled":"itemDisabled",label:t.text,bottom:"",autocomplete:""},on:{"update:searchInput":function(i){e.$set(e.searchPhrases,"search_"+t.name,i)}},model:{value:t.value,callback:function(i){e.$set(t,"value",i)},expression:"field.value"}}):i("v-select",{attrs:{"hide-details":"",required:e.isRequired(t.required),items:t.list.data,"item-text":t.list.text,"item-value":t.list.value,"item-disabled":"itemDisabled",label:t.text,bottom:"",autocomplete:""},model:{value:t.value,callback:function(i){e.$set(t,"value",i)},expression:"field.value"}})]:"checkbox"==t.type?i("span",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"field.value"}],attrs:{required:e.isRequired(t.required),type:"checkbox",color:"blue",label:t.text},domProps:{checked:Array.isArray(t.value)?e._i(t.value,null)>-1:t.value},on:{change:function(i){var a=t.value,s=i.target,n=!!s.checked;if(Array.isArray(a)){var o=e._i(a,null);s.checked?o<0&&(t.value=a.concat([null])):o>-1&&(t.value=a.slice(0,o).concat(a.slice(o+1)))}else e.$set(t,"value",n)}}}),e._v(" "),i("label",{staticClass:"checkbox-label"},[e._v(e._s(t.text))])]):e._e()],2)})),e._v(" "),i("v-card-actions",[i("v-spacer"),e._v(" "),i("v-btn",{attrs:{color:"black",flat:"flat"},nativeOn:{click:function(t){e.close()}}},[e._v(e._s(e.$t("buttons.close")))]),e._v(" "),"create"==e.details.action?i("v-btn",{attrs:{disabled:!e.details.formValid,color:"green",flat:"flat"},on:{click:function(t){e.store()}}},[e._v(e._s(e.$t("buttons.create")))]):"edit"==e.details.action?i("v-btn",{attrs:{disabled:!e.details.formValid,color:"blue",flat:"flat"},on:{click:function(t){e.update()}}},[e._v(e._s(e.$t("buttons.modify")))]):e._e()],1)],1)],1)],1)},staticRenderFns:[]};var he=i("VU/8")(pe,fe,!1,function(e){i("km1T")},"data-v-14735cc8",null).exports,ve={mixins:[se,ne,oe,re],components:{"company-positions-table":me,"company-position-details":he,"company-position-tasks":Z}},ye={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("company-positions-table",{attrs:{fieldsInfo:e.fileteredTableFields,detailsLoader:e.detailsLoader,tableData:e.childrenList(e.fileteredTableFields,[],"id",e.childItemName,"active"),deleteMode:"both",itemElements:e.itemElements}}),e._v(" "),i("company-position-details",{attrs:{details:e.details,fieldsInfo:e.fileteredDetailsFields}}),e._v(" "),i("company-position-tasks")],1)},staticRenderFns:[]},ge={computed:{fieldsInfo:function(){return[{text:this.$t("fields.id"),name:"id",details:!1},{type:"select",url:"crm/companies",list:{value:"id",text:"common_name",data:[]},column:"company_id",text:this.$t("fields.company"),name:"company",apiObject:{name:"company.common_name"}},{text:this.$t("fields.user"),name:"user",apiObject:{name:"user.name"},details:!1},{text:this.$t("fields.userEmail"),name:"userEmail",apiObject:{name:"user.email"},details:!1},{type:"select",url:"crm/company-comment-types",list:{value:"id",text:"name",data:[]},column:"company_comment_type_id",text:this.$t("fields.commentType"),name:"companyCommentType",apiObject:{name:"company_comment_type.name"}},{type:"textarea",column:"content",text:this.$t("fields.content"),name:"content",apiObject:{name:"content",functions:["croppedText"]}}]}}},be={i18n:{messages:{pl:{detailsTitle:"Firma - komentarz",fields:{id:"Id",company:"Firma",user:"Autor",userEmail:"E-mail autora",commentType:"Typ komentarza",content:"Treść"}},en:{detailsTitle:"Company - comment",fields:{id:"Id",company:"Company",user:"Author",userEmail:"Author e-mail",commentType:"Comment type",content:"Content"}}}}},xe={mixins:[ge,be,re],components:{"company-comments-table":me,"company-comment-details":he}},we={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("company-comments-table",{attrs:{fieldsInfo:e.fileteredTableFields,detailsLoader:e.detailsLoader,tableData:e.childrenList(e.fileteredTableFields,[],"id",e.childItemName,"active"),deleteMode:"soft"}}),e._v(" "),i("company-comment-details",{attrs:{details:e.details,fieldsInfo:e.fileteredDetailsFields}})],1)},staticRenderFns:[]},ke={mixins:[ae],components:{ItemDetailsContainer:ie,CompanyPositions:i("VU/8")(ve,ye,!1,null,null,null).exports,CompanyComments:i("VU/8")(xe,we,!1,null,null,null).exports},created:function(){this.setIdColumn("id"),this.setChildItemsMapping([{name:"companyPositions",objName:"positions"},{name:"companyComments",objName:"comments"}])},i18n:{messages:{pl:{title:"Szczegóły firmy",basicInformation:"Dane podstawowe",positions:"Stanowiska",comments:"Komentarze",files:"Pliki"},en:{title:"Company details",basicInformation:"Basic information",positions:"Positions",comments:"Comments",files:"Files"}}}},_e={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("item-details-container",{attrs:{title:e.$t("title"),fields:e.fields,basicInformation:e.$t("basicInformation")}},[i("v-tab",{key:"positions",attrs:{ripple:""}},[e._v(e._s(e.$t("positions")))]),e._v(" "),i("v-tab",{key:"comments",attrs:{ripple:""}},[e._v(e._s(e.$t("comments")))]),e._v(" "),i("v-tab-item",{key:"positions"},[i("v-card",{attrs:{flat:""}},[i("v-card-text",[i("company-positions",{attrs:{exclude:["id","company"],path:"crm/positions",childItemName:"companyPositions",fkName:"company_id"}})],1)],1)],1),e._v(" "),i("v-tab-item",{key:"comments"},[i("v-card",{attrs:{flat:""}},[i("v-card-text",[i("company-comments",{attrs:{exclude:["id","company"],path:"crm/company-comments",childItemName:"companyComments",fkName:"company_id"}})],1)],1)],1)],1)},staticRenderFns:[]},Ce=i("VU/8")(ke,_e,!1,null,null,null).exports,Ie={watch:{createdElement:{handler:function(e){if(this.createdElement.created){var t=this.createdElement.id;t&&this.goToItem({id:t}),this.setCreatedItemStatus([!1,null])}},deep:!0}},computed:l()({},Object(n.e)("crud",["createdElement"]),Object(n.c)("crud",["itemCreated"]),{buttons:function(){return[{name:"goToItem",icon:"forward",color:"blue",text:this.$t("buttons.goToItem")}]},itemFields:function(){return this.fieldsInfo.filter(function(e){return 1!=e.hidden})}}),methods:l()({},Object(n.d)("crud",["showItemDetailsDialog","setCreatedItemStatus"]),Object(n.b)("crud",["getItemDetails"]),{goToItem:function(e){var t=this;this.getItemDetails([e.id]).then(function(e){t.showItemDetailsDialog()})}}),i18n:{messages:{pl:{buttons:{goToItem:"Szczegóły"}},en:{buttons:{goToItem:"Details"}}}}},Te={mixins:[Ie,{computed:{fieldsInfo:function(){return[{text:this.$t("fields.id"),name:"id",details:!1,hidden:!0},{type:"input",column:"name",text:this.$t("fields.name"),grid:"xs12 sm6 md4 lg6 xl4",name:"name"},{type:"input",column:"common_name",text:this.$t("fields.commonName"),grid:"xs12 sm6 md4 lg6 xl4",name:"commonName",apiObject:{name:"common_name"}},{type:"select",url:"crm/company-types",list:{value:"id",text:"name",data:[]},column:"company_type_id",text:this.$t("fields.companyType"),grid:"xs12 sm6 md4 lg6 xl4",name:"companyType",apiObject:{name:"company_type.name"}},{type:"input",column:"nip",text:this.$t("fields.nip"),grid:"xs12 sm6 md4 lg6 xl4",name:"nip",details:!1},{type:"input",column:"regon",text:this.$t("fields.regon"),grid:"xs12 sm6 md4 lg6 xl4",table:!1,details:!1},{type:"input",column:"krs",text:this.$t("fields.krs"),grid:"xs12 sm6 md4 lg6 xl4",table:!1,details:!1},{type:"select",url:"crm/street-prefixes",list:{value:"id",text:"description",data:[]},column:"street_prefix_id",text:this.$t("fields.streetPrefix"),grid:"xs6 sm3 md2 lg3 xl2",name:"streetPrefix",apiObject:{name:"street_prefix.name"},details:!1},{text:this.$t("fields.address"),name:"address",details:!1,hidden:!0},{type:"input",column:"street",text:this.$t("fields.street"),grid:"xs12 sm6 md4 lg6 xl4",table:!1,details:!1},{type:"input",column:"house_number",text:this.$t("fields.houseNumber"),grid:"xs6 sm3 md2 lg3 xl2",table:!1,details:!1},{type:"input",column:"apartment_number",text:this.$t("fields.apartmentNumber"),grid:"xs6 sm3 md2 lg3 xl2",table:!1,details:!1},{type:"input",column:"zip_code",text:this.$t("fields.zipCode"),grid:"xs6 sm3 md2 lg3 xl2",table:!1,details:!1},{type:"input",column:"city",text:this.$t("fields.city"),grid:"xs12 sm6 md4 lg6 xl3",name:"city",details:!1},{type:"input",column:"borough",text:this.$t("fields.borough"),grid:"xs12 sm6 md4 lg6 xl3",table:!1,details:!1},{type:"input",column:"county",text:this.$t("fields.county"),grid:"xs12 sm6 md4 lg6 xl3",table:!1,details:!1},{type:"input",column:"voivodship",text:this.$t("fields.voivodship"),grid:"xs12 sm6 md4 lg6 xl3",table:!1,details:!1},{type:"input",column:"email",text:this.$t("fields.email"),grid:"xs12 sm6 md4 lg6 xl4",table:!1,details:!1},{type:"input",column:"web_page",text:this.$t("fields.webPage"),grid:"xs12 sm6 md4 lg6 xl4",table:!1,details:!1},{type:"input",column:"fax",text:this.$t("fields.fax"),grid:"xs12 sm6 md4 lg6 xl4",table:!1,details:!1},{type:"input",column:"phone",text:this.$t("fields.phone"),grid:"xs12 sm6 md4 lg6 xl4",table:!1,details:!1},{type:"input",column:"coordinates_lat",text:this.$t("fields.coordinatesLat"),grid:"xs12 sm6 md4 lg6 xl4",table:!1,details:!1},{type:"input",column:"coordinates_lng",text:this.$t("fields.coordinatesLng"),grid:"xs12 sm6 md4 lg6 xl4",table:!1,details:!1},{type:"checkbox",column:"coordinates_checked",text:this.$t("fields.coordinatesChecked"),grid:"xs12 sm6 md4 lg6 xl4",table:!1,details:!1},{type:"input",column:"google_map_place",text:this.$t("fields.googleMapPlace"),grid:"xs12 sm6 md4 lg6 xl4",table:!1,details:!1},{type:"select",url:"crm/street-prefixes",list:{value:"id",text:"description",data:[]},column:"correspondence_street_prefix_id",text:this.$t("fields.correspondenceStreetPrefix"),grid:"xs6 sm3 md2 lg3 xl2",table:!1,details:!1},{type:"input",column:"correspondence_street",text:this.$t("fields.correspondenceStreet"),grid:"xs12 sm6 md4 lg6 xl4",table:!1,details:!1},{type:"input",column:"correspondence_house_number",text:this.$t("fields.correspondenceHouseNumber"),grid:"xs6 sm3 md2 lg3 xl2",table:!1,details:!1},{type:"input",column:"correspondence_apartment_number",text:this.$t("fields.correspondenceApartmentNumber"),grid:"xs6 sm3 md2 lg3 xl2",table:!1,details:!1},{type:"input",column:"correspondence_zip_code",text:this.$t("fields.correspondenceZipCode"),grid:"xs6 sm3 md2 lg3 xl2",table:!1,details:!1},{type:"input",column:"correspondence_city",text:this.$t("fields.correspondenceCity"),grid:"xs12 sm6 md4 lg6 xl4",table:!1,details:!1},{type:"input",column:"correspondence_borough",text:this.$t("fields.correspondenceBorough"),grid:"xs12 sm6 md4 lg6 xl4",table:!1,details:!1},{type:"input",column:"correspondence_county",text:this.$t("fields.correspondenceCounty"),grid:"xs12 sm6 md4 lg6 xl4",table:!1,details:!1},{type:"input",column:"correspondence_voivodship",text:this.$t("fields.correspondenceVoivodship"),grid:"xs12 sm6 md4 lg6 xl4",table:!1,details:!1}]}}},{i18n:{messages:{pl:{detailsTitle:"Firma",buttons:{goToCompany:"Przejdź do firmy"},fields:{id:"Id",name:"Nazwa",commonName:"Nazwa użytkowa",companyType:"Typ firmy",nip:"NIP",regon:"REGON",krs:"KRS",streetPrefix:"Typ ulicy",street:"Ulica",houseNumber:"Nr budynku",apartmentNumber:"Nr lokalu",address:"Adres",zipCode:"Kod pocztowy",city:"Miejscowość",borough:"Gmina",county:"Powiat",voivodship:"Województwo",email:"E-mail",webPage:"Strona www",fax:"Fax",phone:"Telefon",coordinatesLat:"Szer. geograficzna",coordinatesLng:"Dł. geograficzna",coordinatesChecked:"Współrzędne sprawdzone",googleMapPlace:"Miejsce - Google Maps",parentCompany:"Nadrzędna firma",correspondenceStreetPrefix:"Typ ulicy (koresp.)",correspondenceStreet:"Ulica (koresp.)",correspondenceHouseNumber:"Nr budynku (koresp.)",correspondenceApartmentNumber:"Nr lokalu (koresp.)",correspondenceZipCode:"Kod pocztowy (koresp.)",correspondenceCity:"Miejscowość (koresp.)",correspondenceBorough:"Gmina (koresp.)",correspondenceCounty:"Powiat (koresp.)",correspondenceVoivodship:"Województwo (koresp.)",active:"Aktywna"},itemElements:{companyBusinessAreas:{title:"Obszary działalności firmy",headers:{businessArea:"Obszar działalności"}}}},en:{detailsTitle:"Company",buttons:{goToCompany:"Go to company"},fields:{id:"Id",name:"Name",commonName:"Common name",companyType:"Company type",nip:"NIP",regon:"REGON",krs:"KRS",streetPrefix:"Street prefix",street:"Street",houseNumber:"House number",apartmentNumber:"Apartment number",address:"Address",zipCode:"Zip code",city:"City",borough:"Borough",county:"County",voivodship:"Voivodship",email:"E-mail",webPage:"Web page",fax:"Fax",phone:"Phone",coordinatesLat:"Coordinates - LAT.",coordinatesLng:"Coordinates - LNG.",coordinatesChecked:"Coordinates checked",googleMapPlace:"Place - Google Maps",parentCompany:"Parent company",correspondenceStreetPrefix:"Street prefix (corresp.)",correspondenceStreet:"Street (corresp.)",correspondenceHouseNumber:"House number (corresp.)",correspondenceApartmentNumber:"Apartment number (corresp.)",correspondenceZipCode:"Zip code (corresp.)",correspondenceCity:"City (corresp.)",correspondenceBorough:"Borough (corresp.)",correspondenceCounty:"County (corresp.)",correspondenceVvoivodship:"Voivodship (corresp.)",active:"Aktywna"},itemElements:{companyBusinessAreas:{title:"Company business areas",headers:{businessArea:"Business areas"}}}}}}}],components:{Crud:K,ItemDetails:Ce},data:function(){return{prefix:"crm",path:"companies",pageTitle:"crm.companies"}},computed:{buttons:function(){return[{name:"goToItem",icon:"forward",color:"blue",text:this.$t("buttons.goToItem")}]}},methods:l()({},Object(n.d)(["alertSuccess","alertError"]),Object(n.d)("crud",["refreshTable"]),Object(n.b)("crud",["updateItem","storeItem"]))},Ee={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("crud",{attrs:{customButtons:e.buttons,prefix:e.prefix,path:e.path,pageTitle:e.pageTitle,fieldsInfo:e.fieldsInfo,detailsTitle:e.$t("detailsTitle"),editButton:!1,watchForCreation:!0,primaryKey:"id",deleteMode:"soft"}}),e._v(" "),i("item-details",{attrs:{fields:e.itemFields}})],1)},staticRenderFns:[]},$e=i("VU/8")(Te,Ee,!1,null,null,null).exports,Pe={mixins:[se,ne,re],components:{"person-positions-table":me,"person-position-details":he}},Se={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("person-positions-table",{attrs:{fieldsInfo:e.fileteredTableFields,detailsLoader:e.detailsLoader,tableData:e.childrenList(e.fileteredTableFields,[],"id",e.childItemName,"active"),deleteMode:"both"}}),e._v(" "),i("person-position-details",{attrs:{details:e.details,fieldsInfo:e.fileteredDetailsFields}})],1)},staticRenderFns:[]},De={computed:{fieldsInfo:function(){return[{text:this.$t("fields.id"),name:"id",details:!1},{type:"select",url:"crm/people",list:{value:"id",text:"fullname",data:[]},column:"person_id",text:this.$t("fields.person"),name:"person",apiObject:{name:"person.fullname"}},{text:this.$t("fields.user"),name:"user",apiObject:{name:"user.name"},details:!1},{text:this.$t("fields.userEmail"),name:"userEmail",apiObject:{name:"user.email"},details:!1},{type:"select",url:"crm/person-comment-types",list:{value:"id",text:"name",data:[]},column:"person_comment_type_id",text:this.$t("fields.commentType"),name:"personCommentType",apiObject:{name:"person_comment_type.name"}},{type:"textarea",column:"content",text:this.$t("fields.content"),name:"content",apiObject:{name:"content",functions:["croppedText"]}}]}}},je={i18n:{messages:{pl:{detailsTitle:"Osoba - komentarz",fields:{id:"Id",person:"Osoba",user:"Autor",userEmail:"E-mail autora",commentType:"Typ komentarza",content:"Treść"}},en:{detailsTitle:"Person - comment",fields:{id:"Id",person:"Person",user:"Author",userEmail:"Author e-mail",commentType:"Comment type",content:"Content"}}}}},Me={mixins:[De,je,re],components:{"person-comments-table":me,"person-comment-details":he}},Ue={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("person-comments-table",{attrs:{fieldsInfo:e.fileteredTableFields,detailsLoader:e.detailsLoader,tableData:e.childrenList(e.fileteredTableFields,[],"id",e.childItemName,"active"),deleteMode:"soft"}}),e._v(" "),i("person-comment-details",{attrs:{details:e.details,fieldsInfo:e.fileteredDetailsFields}})],1)},staticRenderFns:[]},ze={mixins:[ae],components:{ItemDetailsContainer:ie,PersonPositions:i("VU/8")(Pe,Se,!1,null,null,null).exports,PersonComments:i("VU/8")(Me,Ue,!1,null,null,null).exports},created:function(){this.setIdColumn("id"),this.setChildItemsMapping([{name:"personPositions",objName:"positions"},{name:"personComments",objName:"comments"}])},i18n:{messages:{pl:{title:"Szczegóły osoby",basicInformation:"Dane podstawowe",positions:"Stanowiska",comments:"Komentarze"},en:{title:"Person details",basicInformation:"Basic information",positions:"Positions",comments:"Comments"}}}},Fe={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("item-details-container",{attrs:{title:e.$t("title"),fields:e.fields,basicInformation:e.$t("basicInformation")}},[i("v-tab",{key:"positions",attrs:{ripple:""}},[e._v(e._s(e.$t("positions")))]),e._v(" "),i("v-tab",{key:"comments",attrs:{ripple:""}},[e._v(e._s(e.$t("comments")))]),e._v(" "),i("v-tab-item",{key:"positions"},[i("v-card",{attrs:{flat:""}},[i("v-card-text",[i("person-positions",{attrs:{exclude:["id","person"],path:"crm/positions",childItemName:"personPositions",fkName:"person_id"}})],1)],1)],1),e._v(" "),i("v-tab-item",{key:"comments"},[i("v-card",{attrs:{flat:""}},[i("v-card-text",[i("person-comments",{attrs:{exclude:["id","person"],path:"crm/person-comments",childItemName:"personComments",fkName:"person_id"}})],1)],1)],1)],1)},staticRenderFns:[]},Oe={mixins:[Ie,{computed:{fieldsInfo:function(){return[{text:this.$t("fields.id"),name:"id",details:!1,hidden:!0},{type:"input",column:"lastname",text:this.$t("fields.lastname"),grid:"xs12 sm6 md4 lg6 xl4",name:"lastname"},{type:"input",column:"firstname",text:this.$t("fields.firstname"),grid:"xs12 sm6 md4 lg6 xl4",name:"firstname"},{type:"input",column:"distinction",text:this.$t("fields.distinction"),required:!1,grid:"xs12 sm6 md4 lg6 xl4",name:"distinction"},{type:"select",url:"crm/languages",list:{value:"id",text:"name",data:[]},column:"language_id",text:this.$t("fields.language"),grid:"xs12 sm6 md4 lg6 xl4",name:"language",apiObject:{name:"language.name"}},{type:"select",url:"crm/sexes",list:{value:"id",text:"name",data:[]},column:"sex_id",text:this.$t("fields.sex"),grid:"xs12 sm6 md4 lg6 xl4",name:"sex",apiObject:{name:"sex.name"}},{type:"input",column:"email",text:this.$t("fields.email"),required:!1,grid:"xs12 sm6 md4 lg6 xl4",name:"email"},{type:"input",column:"phone",text:this.$t("fields.phone"),required:!1,grid:"xs12 sm6 md4 lg6 xl4",name:"phone"}]}}},{i18n:{messages:{pl:{detailsTitle:"Osoba",buttons:{goToPerson:"Przejdź do osoby"},fields:{id:"Id",firstname:"Imię",lastname:"Nazwisko",fullname:"Imię i Nazwisko",distinction:"Wyróżnik",sex:"Płeć",language:"Język",email:"E-mail",phone:"Telefon"}},en:{detailsTitle:"Person",buttons:{goToPerson:"Go to person"},fields:{id:"Id",firstname:"Firstname",lastname:"Lastname",fullname:"Fullname",distinction:"Distinction",sex:"Sex",language:"Language",email:"E-mail",phone:"Phone"}}}}}],components:{Crud:K,ItemDetails:i("VU/8")(ze,Fe,!1,null,null,null).exports},data:function(){return{prefix:"crm",path:"people",pageTitle:"crm.people"}},computed:{buttons:function(){return[{name:"goToItem",icon:"forward",color:"blue",text:this.$t("buttons.goToItem")}]}},methods:l()({},Object(n.d)(["alertSuccess","alertError"]),Object(n.d)("crud",["refreshTable"]),Object(n.b)("crud",["updateItem","storeItem"]))},Ae={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("crud",{attrs:{customButtons:e.buttons,prefix:e.prefix,path:e.path,pageTitle:e.pageTitle,fieldsInfo:e.fieldsInfo,detailsTitle:e.$t("detailsTitle"),editButton:!1,watchForCreation:!0,primaryKey:"id",deleteMode:"soft",mode:"ServerSide"}}),e._v(" "),i("item-details",{attrs:{fields:e.itemFields}})],1)},staticRenderFns:[]},Ne={mixins:[se,ne,oe],data:function(){return{prefix:"crm",path:"positions",pageTitle:"crm.positions"}},components:{Crud:K}},Re={render:function(){var e=this.$createElement;return(this._self._c||e)("crud",{attrs:{itemElements:this.itemElements,prefix:this.prefix,path:this.path,pageTitle:this.pageTitle,fieldsInfo:this.fieldsInfo,detailsTitle:this.$t("detailsTitle")}})},staticRenderFns:[]},Ve={mixins:[ge,be],data:function(){return{prefix:"crm",path:"company-comments",pageTitle:"crm.companyComments"}},components:{Crud:K}},Le={render:function(){var e=this.$createElement;return(this._self._c||e)("crud",{attrs:{prefix:this.prefix,path:this.path,pageTitle:this.pageTitle,fieldsInfo:this.fieldsInfo,detailsTitle:this.$t("detailsTitle")}})},staticRenderFns:[]},qe={mixins:[De,je],data:function(){return{prefix:"crm",path:"person-comments",pageTitle:"crm.personComments"}},components:{Crud:K}},Be={render:function(){var e=this.$createElement;return(this._self._c||e)("crud",{attrs:{prefix:this.prefix,path:this.path,pageTitle:this.pageTitle,fieldsInfo:this.fieldsInfo,detailsTitle:this.$t("detailsTitle")}})},staticRenderFns:[]},We={data:function(){return{prefix:"crm",path:"position-tasks",pageTitle:"crm.positionTasks"}},computed:{fieldsInfo:function(){return[{text:this.$t("fields.id"),name:"id",details:!1},{text:this.$t("fields.positionPerson"),name:"positionPerson",apiObject:{name:"position.person.fullname"},details:!1},{text:this.$t("fields.positionCompany"),name:"positionCompany",apiObject:{name:"position.company.common_name"},details:!1},{type:"select",url:"crm/positions",list:{value:"id",text:"complexName",complexName:["person.fullname","company.common_name","name"],data:[]},column:"position_id",text:this.$t("fields.position"),name:"position",apiObject:{name:"position.name"}},{type:"select",url:"crm/tasks",list:{value:"id",text:"name",data:[]},column:"task_id",text:this.$t("fields.task"),name:"task",apiObject:{name:"task.name"}}]}},components:{Crud:K},i18n:{messages:{pl:{detailsTitle:"Stanowisko - zadanie",fields:{id:"Id",positionPerson:"Osoba",positionCompany:"Firma",position:"Nazwa stanowiska",task:"Zadanie"}},en:{detailsTitle:"Position - task",fields:{id:"Id",positionPerson:"Person",positionCompany:"Company",position:"Position",task:"Task"}}}}},Ze={render:function(){var e=this.$createElement;return(this._self._c||e)("crud",{attrs:{prefix:this.prefix,path:this.path,pageTitle:this.pageTitle,fieldsInfo:this.fieldsInfo,deleteMode:"hard",detailsTitle:this.$t("detailsTitle")}})},staticRenderFns:[]},Ye={data:function(){return{prefix:"crm",path:"company-files",pageTitle:"crm.companyFiles",meta:[{name:"path"}]}},computed:{fieldsInfo:function(){return[{text:this.$t("fields.id"),name:"id",details:!1},{type:"select",url:"crm/companies",list:{value:"id",text:"common_name",data:[]},column:"company_id",text:this.$t("fields.company"),name:"company",apiObject:{name:"company.common_name"}},{type:"file",column:"filename",text:this.$t("fields.file"),name:"filename"},{type:"textarea",column:"description",text:this.$t("fields.description"),name:"description"},{text:this.$t("fields.type"),name:"type",apiObject:{name:"mime"},details:!1},{text:this.$t("fields.size"),name:"size",apiObject:{name:"size",functions:["humanFileSize"]},sortable:!1,details:!1}]}},methods:{},components:{Crud:K},i18n:{messages:{pl:{detailsTitle:"Plik",fields:{id:"Id",company:"Firma",file:"Plik",description:"Opis",type:"Typ pliku",size:"Rozmiar"}},en:{detailsTitle:"File",fields:{id:"Id",company:"Company",file:"File",description:"Description",type:"File type",size:"Size"}}}}},Ge={render:function(){var e=this.$createElement;return(this._self._c||e)("crud",{attrs:{meta:this.meta,fileMode:!0,prefix:this.prefix,path:this.path,pageTitle:this.pageTitle,fieldsInfo:this.fieldsInfo,detailsTitle:this.$t("detailsTitle")}})},staticRenderFns:[]},Je={data:function(){return{prefix:"crm",path:"company-types",pageTitle:"crm.companyTypes"}},computed:{fieldsInfo:function(){return[{text:this.$t("fields.id"),name:"id",details:!1},{type:"input",column:"name",text:this.$t("fields.name"),name:"name"},{type:"input",column:"code",text:this.$t("fields.code"),name:"code"}]}},components:{Crud:K},i18n:{messages:{pl:{detailsTitle:"Typ firmy",fields:{id:"Id",name:"Nazwa",code:"Kod"}},en:{detailsTitle:"Company type",fields:{id:"Id",name:"Name",code:"Code"}}}}},He={render:function(){var e=this.$createElement;return(this._self._c||e)("crud",{attrs:{prefix:this.prefix,path:this.path,pageTitle:this.pageTitle,fieldsInfo:this.fieldsInfo,detailsTitle:this.$t("detailsTitle")}})},staticRenderFns:[]},Ke={data:function(){return{prefix:"crm",path:"company-comment-types",pageTitle:"crm.companyCommentTypes"}},computed:{fieldsInfo:function(){return[{text:this.$t("fields.id"),name:"id",details:!1},{type:"input",column:"name",text:this.$t("fields.name"),name:"name"}]}},components:{Crud:K},i18n:{messages:{pl:{detailsTitle:"Firmy - typ komentarza",fields:{id:"Id",name:"Nazwa"}},en:{detailsTitle:"Companies - comment type",fields:{id:"Id",name:"Name"}}}}},Qe={render:function(){var e=this.$createElement;return(this._self._c||e)("crud",{attrs:{prefix:this.prefix,path:this.path,pageTitle:this.pageTitle,fieldsInfo:this.fieldsInfo,detailsTitle:this.$t("detailsTitle")}})},staticRenderFns:[]},Xe={data:function(){return{prefix:"crm",path:"person-comment-types",pageTitle:"crm.personCommentTypes"}},computed:{fieldsInfo:function(){return[{text:this.$t("fields.id"),name:"id",details:!1},{type:"input",column:"name",text:this.$t("fields.name"),name:"name"}]}},components:{Crud:K},i18n:{messages:{pl:{detailsTitle:"Osoby - typ komentarza",fields:{id:"Id",name:"Nazwa"}},en:{detailsTitle:"People - comment type",fields:{id:"Id",name:"Name"}}}}},et={render:function(){var e=this.$createElement;return(this._self._c||e)("crud",{attrs:{prefix:this.prefix,path:this.path,pageTitle:this.pageTitle,fieldsInfo:this.fieldsInfo,detailsTitle:this.$t("detailsTitle")}})},staticRenderFns:[]},tt={data:function(){return{prefix:"crm",path:"tasks",pageTitle:"crm.tasks"}},computed:{fieldsInfo:function(){return[{text:this.$t("fields.id"),name:"id",details:!1},{type:"input",column:"name",text:this.$t("fields.name"),name:"name"}]}},components:{Crud:K},i18n:{messages:{pl:{detailsTitle:"Zadanie",fields:{id:"Id",name:"Nazwa"}},en:{detailsTitle:"Task",fields:{id:"Id",name:"Name"}}}}},it={render:function(){var e=this.$createElement;return(this._self._c||e)("crud",{attrs:{prefix:this.prefix,path:this.path,pageTitle:this.pageTitle,fieldsInfo:this.fieldsInfo,detailsTitle:this.$t("detailsTitle")}})},staticRenderFns:[]},at=[{path:"companies",name:"companies",component:$e},{path:"people",name:"people",component:i("VU/8")(Oe,Ae,!1,null,null,null).exports},{path:"positions",name:"positions",component:i("VU/8")(Ne,Re,!1,null,null,null).exports},{path:"company-comments",name:"companyComments",component:i("VU/8")(Ve,Le,!1,null,null,null).exports},{path:"person-comments",name:"personComments",component:i("VU/8")(qe,Be,!1,null,null,null).exports},{path:"position-tasks",name:"positionTasks",component:i("VU/8")(We,Ze,!1,null,null,null).exports},{path:"company-files",name:"companyFiles",component:i("VU/8")(Ye,Ge,!1,null,null,null).exports},{path:"company-types",name:"companyTypes",component:i("VU/8")(Je,He,!1,null,null,null).exports},{path:"company-comment-types",name:"companyCommentTypes",component:i("VU/8")(Ke,Qe,!1,null,null,null).exports},{path:"person-comment-types",name:"personCommentTypes",component:i("VU/8")(Xe,et,!1,null,null,null).exports},{path:"tasks",name:"tasks",component:i("VU/8")(tt,it,!1,null,null,null).exports}],st={data:function(){return{}},created:function(){this.setModule("admin.name")},methods:l()({},Object(n.d)(["setModule"]))},nt={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("router-view")],1)},staticRenderFns:[]},ot=i("VU/8")(st,nt,!1,null,null,null).exports,rt={data:function(){return{prefix:"admin",path:"users",pageTitle:"admin.users"}},computed:{itemElements:function(){return{userPermissions:{title:this.$t("itemElements.userPermissions.title"),url:"admin/users/{id}/permissions",controller:"admin/user-permissions",itemObject:"permission_users",columns:[{obj:"name",name:"permission",header:this.$t("itemElements.userPermissions.headers.permission")}],primaryId:"user_id",foreignId:"permission_id",icon:"lock_open",color:"purple",buttonText:this.$t("itemElements.userPermissions.title")}}},buttons:function(){return[{name:"resetPassword",icon:"autorenew",color:"blue",text:this.$t("buttons.resetPassword")}]},fieldsInfo:function(){return[{text:this.$t("fields.id"),name:"id",details:!1},{type:"input",column:"name",text:this.$t("fields.name"),name:"name"},{type:"input",column:"email",text:this.$t("fields.email"),name:"email"},{type:"select",url:"admin/user-types",list:{value:"id",text:"name",data:[]},column:"user_type_id",text:this.$t("fields.userType"),name:"user_type",apiObject:{name:"user_type.name"}},{text:this.$t("fields.initialPassword"),name:"initialPassword",apiObject:{name:"initial_password"},details:!1}]}},methods:l()({},Object(n.d)(["alertSuccess","alertError"]),Object(n.b)("crud",["getItems"]),{resetPassword:function(e){var t=this;a.a.http.put(this.prefix+"/"+this.path+"/"+e.id+"/reset-password").then(function(e){t.alertSuccess(t.$t("passwordReseted")),t.getItems()})}}),components:{Crud:K},i18n:{messages:{pl:{detailsTitle:"Użytkownik",fields:{id:"Id",name:"Nazwa",email:"E-mail",initialPassword:"Hasło początkowe",userType:"Typ użytkownika"},itemElements:{userPermissions:{title:"Uprawnienia użytkownika",headers:{permission:"Uprawnienie"}}},buttons:{resetPassword:"Reset hasła"},passwordReseted:"Hasło zostało zmienione",passwordResetError:"Błąd! Nie udało się zmienić hasła"},en:{detailsTitle:"User",fields:{id:"Id",name:"Name",email:"E-mail",initialPassword:"Initial password",userType:"User type"},itemElements:{userPermissions:{title:"User permissions",headers:{permission:"Permission"}}},buttons:{resetPassword:"Reset password"},passwordReseted:"Password changed",passwordResetError:"Error! Password change unsuccessful"}}}},lt={render:function(){var e=this.$createElement;return(this._self._c||e)("crud",{ref:"crud",attrs:{prefix:this.prefix,path:this.path,pageTitle:this.pageTitle,fieldsInfo:this.fieldsInfo,detailsTitle:this.$t("detailsTitle"),customButtons:this.buttons,itemElements:this.itemElements}})},staticRenderFns:[]},ct={data:function(){return{prefix:"admin",path:"permissions",pageTitle:"admin.permissions"}},computed:{itemElements:function(){return{permissionUsers:{title:this.$t("itemElements.permissionUsers.title"),url:"admin/permissions/{id}/users",controller:"admin/user-permissions",itemObject:"user_permissions",columns:[{obj:"name",name:"name",header:this.$t("itemElements.permissionUsers.headers.user")}],primaryId:"permission_id",foreignId:"user_id",icon:"people",color:"purple",buttonText:this.$t("itemElements.permissionUsers.title")}}},fieldsInfo:function(){return[{text:this.$t("fields.id"),name:"id",details:!1},{type:"input",column:"name",text:this.$t("fields.name"),name:"name"},{type:"input",column:"code",text:this.$t("fields.code"),name:"code"}]}},components:{Crud:K},i18n:{messages:{pl:{detailsTitle:"Uprawnienie",fields:{id:"Id",name:"Nazwa",code:"Kod"},itemElements:{permissionUsers:{title:"Użytkownicy posiadający dane uprawnienie",headers:{user:"Użytkownik"}}}},en:{detailsTitle:"Permission",fields:{id:"Id",name:"Name",code:"Code"},itemElements:{permissionUsers:{title:"Users with this permission",headers:{user:"User"}}}}}}},dt={render:function(){var e=this.$createElement;return(this._self._c||e)("crud",{attrs:{prefix:this.prefix,path:this.path,pageTitle:this.pageTitle,fieldsInfo:this.fieldsInfo,detailsTitle:this.$t("detailsTitle"),itemElements:this.itemElements}})},staticRenderFns:[]},ut={data:function(){return{prefix:"admin",path:"user-permissions",pageTitle:"admin.userPermissions"}},computed:{fieldsInfo:function(){return[{text:this.$t("fields.id"),name:"id",details:!1},{type:"select",url:"admin/users",list:{value:"id",text:"name",data:[]},column:"user_id",text:this.$t("fields.user"),name:"user",apiObject:{name:"user.name"}},{text:this.$t("fields.userEmail"),name:"userEmail",apiObject:{name:"user.email"},details:!1},{type:"select",url:"admin/permissions",list:{value:"id",text:"name",data:[]},column:"permission_id",text:this.$t("fields.permission"),name:"permission",apiObject:{name:"permission.name"}}]}},components:{Crud:K},i18n:{messages:{pl:{detailsTitle:"Użytkownik - uprawnienie",fields:{id:"Id",user:"Użytkownik",userEmail:"E-mail użytkownika",permission:"Uprawnienie",permissionCode:"Kod uprawnienia"}},en:{detailsTitle:"User - permission",fields:{id:"Id",user:"User",userEmail:"User's e-mail",permission:"Permission",permissionCode:"Permission code"}}}}},mt={render:function(){var e=this.$createElement;return(this._self._c||e)("crud",{attrs:{prefix:this.prefix,path:this.path,pageTitle:this.pageTitle,fieldsInfo:this.fieldsInfo,detailsTitle:this.$t("detailsTitle"),deleteMode:"hard"}})},staticRenderFns:[]},pt=[{path:"home",name:"home",component:D},{path:"crm",name:"crm",component:U,children:at,meta:{guard:"CRM"}},{path:"administration",name:"administration",component:ot,children:[{path:"users",name:"users",component:i("VU/8")(rt,lt,!1,null,null,null).exports},{path:"permissions",name:"permissions",component:i("VU/8")(ct,dt,!1,null,null,null).exports},{path:"user-permissions",name:"user-permissions",component:i("VU/8")(ut,mt,!1,null,null,null).exports}],meta:{guard:"ADMIN"}}],ft={name:"login",data:function(){return{valid:!1,password:"",passwordRules:[function(e){return!!e||"Hasło jest wymagane"}],email:"",emailRules:[function(e){return!!e||"Padanie adresu e-mail jest wymagane"},function(e){return/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,4})+$/.test(e)||"Niepoprawny format adresu e-mail"}],passwordHidden:!0}},computed:l()({},Object(n.e)("auth",["loginWait","loginFailed"]),Object(n.e)(["locales"]),{credential:function(){return{email:this.email,password:this.password}},passTextFieldType:function(){return this.passwordHidden?"password":"text"},passAppendIcon:function(){return this.passwordHidden?"visibility":"visibility_off"}}),methods:l()({},Object(n.d)(["setLocale"]),Object(n.b)("auth",["login"]),{changeLocale:function(e){this.$i18n.locale=e,this.setLocale(e)},loginAttempt:function(){var e=this;this.login(this.credential).then(function(){e.$router.push({path:"/home"})})}}),i18n:{messages:{pl:{login:{title:"Vue CRUD",email:"E-mail",password:"Hasło",failed:"Próba zalogowania nie powiodła się",submit:"Zaloguj"}},en:{login:{title:"Vue CRUD",email:"E-mail",password:"Password",failed:"Login attempt unsuccessful",submit:"Submit"}}}}},ht={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.loginWait?a("v-layout",{staticClass:"login-loader",attrs:{"justify-center":"","align-center":""}},[a("v-progress-circular",{attrs:{indeterminate:"",size:100,width:5,color:"primary"}})],1):a("v-layout",{staticClass:"white",attrs:{row:"",wrap:"",color:"primary","ma-3":""}},[a("v-flex",{staticClass:"parent text-xs-center",attrs:{xs10:"","offset-xs1":"",sm8:"","offset-sm2":"",md6:"","offset-md3":"",lg4:"","offset-lg4":"",xl2:"","offset-xl5":""}},[a("img",{staticClass:"logo",attrs:{src:i("g2Y0")("./"+e.$store.state.logoLg)}}),e._v(" "),a("h1",{staticClass:"app-title primary--text"},[e._v(e._s(e.$t("login.title")))]),e._v(" "),[a("v-form",{ref:"form",attrs:{"lazy-validation":""},on:{submit:function(e){e.preventDefault()}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[e.$store.state.localeSelectable?a("v-menu",{attrs:{bottom:"",left:""}},[a("v-btn",{staticClass:"secondary",attrs:{slot:"activator",icon:"",dark:""},slot:"activator"},[a("v-icon",[e._v("translate")])],1),e._v(" "),a("v-list",e._l(e.locales,function(t,i){return a("v-list-tile",{key:i,on:{click:function(i){e.changeLocale(t.name)}}},[a("v-list-tile-title",[e._v(e._s(t.text))])],1)}))],1):e._e(),e._v(" "),a("v-text-field",{attrs:{label:e.$t("login.email"),rules:e.emailRules,required:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),e._v(" "),a("v-text-field",{attrs:{label:e.$t("login.password"),rules:e.passwordRules,counter:30,required:"","append-icon":e.passAppendIcon,"append-icon-cb":function(){return e.passwordHidden=!e.passwordHidden},type:e.passTextFieldType},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),e._v(" "),a("v-btn",{staticClass:"primary white--text",attrs:{type:"submit",disabled:!e.valid},on:{click:function(t){e.loginAttempt()}}},[e._v("\n            "+e._s(e.$t("login.submit"))+"\n        ")])],1)],e._v(" "),a("v-alert",{staticClass:"login-failed",attrs:{type:"error",value:e.loginFailed}},[e._v("\n      "+e._s(e.$t("login.failed"))+"\n    ")])],2)],1)},staticRenderFns:[]};var vt=i("VU/8")(ft,ht,!1,function(e){i("DHyr")},"data-v-2a193348",null).exports;a.a.use(o.a);var yt=new o.a({routes:[{path:"/",name:"main",component:$,children:pt,beforeEnter:function(e,t,i){localStorage.getItem("token")?a.a.http.get("auth/user").then(function(e){i()},function(e){i("/login")}):(Rt.commit("auth/logout"),i("/login"))}},{path:"/login",name:"login",component:vt}]});yt.beforeEach(function(e,t,i){var a=void 0;Rt.state.page=null,e.matched.some(function(e){return a=e.meta.guard}),void 0===a?i():Rt.getters["auth/checkRole"](a)?(window.scrollTo(0,0),i()):Rt.getters["auth/isLogged"]?i("/home"):i("/login")});var gt=yt,bt={prefix:"",path:"",tableReady:!1,detailsLoading:!1,items:[],totalItems:0,loading:!0,details:{show:!1,id:null,action:null,formValid:!1,item:{}},createdElement:{mode:"ignore",created:!1,id:null},itemElements:{show:!1,id:null,columns:[],controller:"",itemObject:"",primaryId:"",foreignId:"",title:"",url:"",data:[]},availableElements:[],imageContainer:{show:!1,item:{}},selectedIds:[],tableRefreshing:!1,detailsDialog:!1,item:{},itemIdColumn:"",childItemsMapping:[],childItems:{}},xt={itemCreated:function(e){return e.createdElement.created},itemsList:function(e){return function(t,i,a,s,n){return e.items.map(function(e){return Object(R.c)(e,t,i,a,s,n)})}},item:function(e){return e.item},childrenList:function(e){return function(t,i,a,s,n){return e.childItems[s].items.map(function(e){return Object(R.c)(e,t,i,a,[],n)})}}},wt=i("d7EF"),kt=i.n(wt),_t={setPrefix:function(e,t){e.prefix=t},setPath:function(e,t){e.path=t},setItems:function(e,t){e.items=t,e.loading=!1},setLoadingStatus:function(e,t){e.loading=t},setItemsServerSide:function(e,t){e.items=t.data,e.totalItems=t.total,e.loading=!1},resetItems:function(e){e.items=[]},setSelectedIds:function(e,t){e.selectedIds=t.map(function(e){return e.id})},setDetailsLoader:function(e,t){e.detailsLoading=t},setItem:function(e,t){e.details.item=t},resetItem:function(e){e.details.item={}},editItemDialog:function(e,t){e.details.action="edit",e.details.id=t,e.details.formValid=!0,e.details.show=!0},createItemDialog:function(e){e.details.action="create",e.details.formValid=!0,e.details.show=!0},multipleEditDialog:function(e){e.details.action="multiedit",e.details.formValid=!0,e.details.show=!0},setCreationMode:function(e,t){e.createdElement.mode=t},setCreatedItemStatus:function(e,t){var i=kt()(t,2),a=i[0],s=i[1];e.createdElement.created=a,e.createdElement.id=s},setItemElements:function(e,t){e.itemElements.data=t},resetItemElements:function(e){e.itemElements.data=[]},setItemElementsInfo:function(e,t){var i=kt()(t,2),a=i[0],s=i[1];e.itemElements.id=a,e.itemElements.title=s.title,e.itemElements.url=s.url,e.itemElements.columns=s.columns,e.itemElements.controller=s.controller,e.itemElements.itemObject=s.itemObject,e.itemElements.primaryId=s.primaryId,e.itemElements.foreignId=s.foreignId,e.itemElements.show=!0},openImageContainer:function(e,t){e.imageContainer.item=t,e.imageContainer.show=!0},closeImageContainer:function(e){e.imageContainer.show=!1,e.imageContainer.item={}},refreshTable:function(e){e.tableRefreshing=!0,setTimeout(function(){return e.tableRefreshing=!1},2e3)},showItemDetailsDialog:function(e){e.detailsDialog=!0},hideItemDetailsDialog:function(e){e.detailsDialog=!1},setChildItemsMapping:function(e,t){e.childItemsMapping=t;var i=!0,s=!1,n=void 0;try{for(var o,r=F()(t);!(i=(o=r.next()).done);i=!0){var l=o.value;a.a.set(e.childItems,l.name,{items:[],details:{show:!1,id:null,action:null,formValid:!1,item:{}}})}}catch(e){s=!0,n=e}finally{try{!i&&r.return&&r.return()}finally{if(s)throw n}}},setIdColumn:function(e,t){e.itemIdColumn=t},itemDetails:function(e,t){e.item=t;var i=!0,s=!1,n=void 0;try{for(var o,r=F()(e.childItemsMapping);!(i=(o=r.next()).done);i=!0){var l=o.value,c=e.childItems[l.name];c.items=e.item[l.objName],a.a.set(e.childItems,l.name,c)}}catch(e){s=!0,n=e}finally{try{!i&&r.return&&r.return()}finally{if(s)throw n}}},editChildDialog:function(e,t){var i=kt()(t,2),s=i[0],n=i[1],o=e.childItems[n];o.details.action="edit",o.details.id=s,o.details.formValid=!0,o.details.show=!0,a.a.set(e.childItems,n,o)},createChildDialog:function(e,t){var i=e.childItems[t];i.details.action="create",i.details.formValid=!0,i.details.show=!0,a.a.set(e.childItems,t,i)},hideChildDialog:function(e,t){var i=e.childItems[t];i.details.show=!1,a.a.set(e.childItems,t,i)},resetChild:function(e,t){var i=e.childItems[t];i.details.item={},a.a.set(e.childItems,t,i)},setChild:function(e,t){var i=kt()(t,2),s=i[0],n=i[1],o=e.childItems[n];o.details.item=s,a.a.set(e.childItems,n,o)}},Ct=i("//Fk"),It=i.n(Ct),Tt={namespaced:!0,state:bt,getters:xt,mutations:_t,actions:{getItems:function(e){var t=e.commit,i=e.state;t("setLoadingStatus",!0),a.a.http.get(i.prefix+"/"+i.path).then(function(e){t("setItems",e.body),t("setLoadingStatus",!1)},function(e){t("alertError",e.statusText,{root:!0})})},getItemsServerSide:function(e,t){var i=e.commit,s=e.state,n=kt()(t,1)[0];return new It.a(function(e,t){i("setLoadingStatus",!0),a.a.http.post(s.prefix+"/"+s.path+"/async-data",n).then(function(t){i("setItemsServerSide",t.body),e()})})},getItem:function(e,t){var i=e.commit,s=e.state,n=kt()(t,1)[0];return new It.a(function(e,t){i("setDetailsLoader",!0),a.a.http.get(s.prefix+"/"+s.path+"/"+n).then(function(t){i("setItem",t.body),i("setDetailsLoader",!1),e()})})},updateItem:function(e,t){var i=e.commit,s=(e.dispatch,e.state),n=kt()(t,4),o=n[0],r=n[1],l=n[2];n[3];a.a.http.put(s.prefix+"/"+s.path+"/"+o,r).then(function(e){0==e.body.status?(i("alertSuccess",l,{root:!0}),i("refreshTable")):-1==e.body.status?i("alertError",e.body.msg,{root:!0}):-2==e.body.status&&i("alertValidationError",e.body.msg,{root:!0})},function(e){i("alertError",e.statusText,{root:!0})})},storeItem:function(e,t){var i=e.commit,s=(e.dispatch,e.state),n=kt()(t,3),o=n[0],r=n[1];n[2];a.a.http.post(s.prefix+"/"+s.path,o).then(function(e){0==e.body.status?(i("alertSuccess",r,{root:!0}),i("refreshTable")):-1==e.body.status?i("alertError",e.body.msg,{root:!0}):-2==e.body.status&&i("alertValidationError",e.body.msg,{root:!0}),"inform"==s.createdElement.mode&&i("setCreatedItemStatus",[!0,e.body.id])},function(e){i("alertError",e.statusText,{root:!0})})},deleteItem:function(e,t){var i=e.commit,s=(e.dispatch,e.state),n=kt()(t,3),o=n[0],r=n[1];n[2];a.a.http.delete(s.prefix+"/"+s.path+"/"+o).then(function(e){i("alertSuccess",r,{root:!0}),i("refreshTable")},function(e){i("alertError",e.statusText,{root:!0})})},mulitipleItemsUpdate:function(e,t){var i=e.commit,s=(e.dispatch,e.state),n=kt()(t,3),o=n[0],r=n[1];n[2];a.a.http.post(s.prefix+"/"+s.path+"/multiple-update",o).then(function(e){i("alertSuccess",r,{root:!0}),i("refreshTable")},function(e){i("alertError",e.statusText,{root:!0})})},mulitipleItemsDelete:function(e,t){var i=e.commit,s=(e.dispatch,e.state),n=kt()(t,3),o=n[0],r=n[1];n[2];a.a.http.post(s.prefix+"/"+s.path+"/multiple-delete",o).then(function(e){i("alertSuccess",r,{root:!0}),i("refreshTable")},function(e){i("alertError",e.statusText,{root:!0})})},getItemElements:function(e){var t=e.commit,i=e.state,s=i.itemElements.url.replace("{id}",i.itemElements.id);a.a.http.get(s).then(function(e){return t("setItemElements",e.body)})},addItemElement:function(e,t){var i=e.commit,s=e.dispatch,n=e.state,o=kt()(t,3),r=o[0],l=o[1];o[2];a.a.http.post(n.itemElements.controller,r).then(function(e){i("alertSuccess",l,{root:!0}),s("getItemElements")},function(e){i("alertError",e.statusText,{root:!0})})},removeItemElement:function(e,t){var i=e.commit,s=e.dispatch,n=e.state,o=kt()(t,3),r=o[0],l=o[1];o[2];a.a.http.delete(n.itemElements.controller+"/"+r).then(function(e){i("alertSuccess",l,{root:!0}),s("getItemElements")},function(e){i("alertError",e.statusText,{root:!0})})},addManyItemElements:function(e,t){var i=e.commit,s=e.dispatch,n=e.state,o=kt()(t,3),r=o[0],l=o[1];o[2];a.a.http.post(n.itemElements.controller+"/multiple-add",r).then(function(e){i("alertSuccess",l,{root:!0}),s("getItemElements")},function(e){i("alertError",e.statusText,{root:!0})})},removeManyItemElements:function(e,t){var i=e.commit,s=e.dispatch,n=e.state,o=kt()(t,3),r=o[0],l=o[1];o[2];a.a.http.post(n.itemElements.controller+"/multiple-delete",r).then(function(e){i("alertSuccess",l,{root:!0}),s("getItemElements")},function(e){i("alertError",e.statusText,{root:!0})})},getItemDetails:function(e,t){var i=e.commit,s=e.state,n=kt()(t,1)[0];return new It.a(function(e,t){i("setDetailsLoader",!0),a.a.http.get(s.prefix+"/"+s.path+"/"+n).then(function(t){i("itemDetails",t.body),i("setDetailsLoader",!1),e()})})},updateItemDetail:function(e,t){var i=e.commit,s=e.dispatch,n=e.state,o=kt()(t,3),r=o[0],l=o[1],c=o[2];a.a.http.put(n.prefix+"/"+n.path+"/"+r,l).then(function(e){0==e.body.status?i("alertSuccess",c,{root:!0}):-1==e.body.status?i("alertError",e.body.msg,{root:!0}):-2==e.body.status&&i("alertValidationError",e.body.msg,{root:!0}),s("getItemDetails",[n.item[n.itemIdColumn]])},function(e){i("alertError",e.statusText,{root:!0})})},updateChild:function(e,t){var i=e.commit,s=e.dispatch,n=e.state,o=kt()(t,4),r=o[0],l=o[1],c=o[2],d=o[3];a.a.http.put(d+"/"+r,l).then(function(e){0==e.body.status?i("alertSuccess",c,{root:!0}):-1==e.body.status?i("alertError",e.body.msg,{root:!0}):-2==e.body.status&&i("alertValidationError",e.body.msg,{root:!0}),s("getItemDetails",[n.item[n.itemIdColumn]])},function(e){i("alertError",e.statusText,{root:!0})})},deleteChild:function(e,t){var i=e.commit,s=e.dispatch,n=e.state,o=kt()(t,4),r=o[0],l=o[1],c=(o[2],o[3]);a.a.http.delete(c+"/"+r).then(function(e){0==e.body.status?i("alertSuccess",l,{root:!0}):-1==e.body.status?i("alertError",e.body.msg,{root:!0}):-2==e.body.status&&i("alertValidationError",e.body.msg,{root:!0}),s("getItemDetails",[n.item[n.itemIdColumn]])},function(e){i("alertError",e.statusText,{root:!0})})},storeChild:function(e,t){var i=e.commit,s=e.dispatch,n=e.state,o=kt()(t,3),r=o[0],l=o[1],c=o[2];a.a.http.post(c,r).then(function(e){i("alertSuccess",l,{root:!0}),s("getItemDetails",[n.item[n.itemIdColumn]])},function(e){i("alertError",e.statusText,{root:!0})})},getChild:function(e,t){var i=e.commit,s=(e.state,kt()(t,3)),n=s[0],o=s[1],r=s[2];return new It.a(function(e,t){a.a.http.get(o+"/"+n).then(function(t){i("setChild",[t.body,r]),e()},function(e){i("alertError",e.statusText,{root:!0})})})}}},Et={logged:0,user:localStorage.getItem("user"),token:localStorage.getItem("token"),userUpdated:!1,userPasswordUpdated:!1,userPasswordUpdateError:!1,userPasswordUpdateErrorMsg:"",loginWait:!1,loginFailed:!1},$t={isLogged:function(e){return e.logged},userRoles:function(e){return null!=e.user?JSON.parse(e.user).user_permissions:[]},checkRole:function(e,t){return function(e){return t.userRoles.filter(function(t){return t.permission.code==e}).length>0}},userInfo:function(e){return JSON.parse(e.user)},userUpdated:function(e){return e.userUpdated},userPasswordUpdated:function(e){return e.userPasswordUpdated},userPasswordUpdateError:function(e){return e.userPasswordUpdateError},userPasswordUpdateErrorMsg:function(e){return e.userPasswordUpdateErrorMsg}},Pt=i("mvHQ"),St=i.n(Pt),Dt={namespaced:!0,state:Et,getters:$t,mutations:{login:function(e,t){e.logged=1,e.loginFailed=!1;var i=t.token,a=St()(t.user);localStorage.setItem("token",i),localStorage.setItem("user",a),e.token=i,e.user=a},loginWait:function(e,t){e.loginWait=t},loginFailed:function(e){e.loginFailed=!0},logout:function(e){e.loginWait=!1,e.loginFailed=!1,e.logged=0,e.user=null,e.token=null,localStorage.removeItem("token"),localStorage.removeItem("user")},editUser:function(e,t){var i=St()(t);localStorage.setItem("user",i),e.user=i,e.userUpdated=!0,setTimeout(function(){e.userUpdated=!1},3e3)},editPassword:function(e,t){1==t.status?(e.userPasswordUpdated=!0,setTimeout(function(){e.userPasswordUpdated=!1},3e3)):-1==t.status&&(e.userPasswordUpdateError=!0,e.userPasswordUpdateErrorMsg=t.msg,setTimeout(function(){e.userPasswordUpdateError=!1},3e3))},refreshToken:function(e,t){var i=t.token;localStorage.setItem("token",i),e.token=i}},actions:{login:function(e,t){var i=e.commit;return i("loginWait",!0),new It.a(function(e){a.a.http.post("auth/login",t).then(function(e){return e.json()}).then(function(t){i("login",t),e()}).catch(function(e){i("loginWait",!1),i("loginFailed")})})},logout:function(e){var t=e.commit;return new It.a(function(e){a.a.http.get("auth/logout").then(function(e){return e.json()}).then(function(){t("logout"),e()})})},getUser:function(e){var t=e.commit;return new It.a(function(e){a.a.http.get("auth/user").then(function(e){return e.json()}).then(function(){400!==response.status&&401!==response.status&&403!==response.status||t("logout"),e()})})},refreshToken:function(e,t){var i=e.commit;a.a.http.post("auth/refresh-token").then(function(e){return e.json()}).then(function(e){i("refreshToken",e)})},editUser:function(e,t){var i=e.commit;a.a.http.post("auth/user",t).then(function(e){return e.json()}).then(function(e){i("editUser",e)})},editPassword:function(e,t){var i=e.commit;a.a.http.post("auth/user-password",t).then(function(e){return e.json()}).then(function(e){i("editPassword",e)})}}},jt={namespaced:!0,state:{},getters:{},mutations:{},actions:{}},Mt={namespaced:!0,state:{companyDialog:!1,companies:[],company:{id:null,name:null,common_name:null,company_type_id:null},companyPositions:[],companyFiles:[],companyComments:[],companyFileDetails:{show:!1,id:null,action:null,formValid:!1,item:{}},personDialog:!1,people:[],person:{id:null,firstname:null,lastname:null,sex_id:null},personPositions:[],personComments:[],positionDetails:{show:!1,id:null,action:null,formValid:!1,item:{}},tasks:{show:!1,positionId:null,data:[]},imageContainer:{show:!1,item:{}}},getters:{company:function(e){return e.company},companyPositions:function(e){return e.companyPositions.map(function(e){var t={};return t.id=e.id,t.person=e.person.fullname,t.name=e.name,t.task=e.position_tasks.map(function(e){return e.task.name}).join(", "),t.email=e.email,t.phone=e.phone,t.comment=e.comment,t.phone_2=e.phone_2,t.active=e.active,t})},companyComments:function(e){return e.companyComments.map(function(e){var t={};return t.id=e.id,t.commentType=e.company_comment_type.name,t.author=e.user.name,t.content=e.content,t.created=e.created_at,t.updated=e.updated_at,t.active=e.active,t})},companyFiles:function(e){return e.companyFiles.map(function(e){var t={};return t.id=e.id,t.filename=e.filename,t.description=e.description,t.type=e.mime,t.size=Object(R.d)(e.size),t.meta={active:e.active,path:e.path},t})},person:function(e){return e.person},personPositions:function(e){return e.personPositions.map(function(e){var t={};return t.id=e.id,t.company=e.company.common_name,t.name=e.name,t.email=e.email,t.phone=e.phone,t.comment=e.comment,t.phone_2=e.phone_2,t.active=e.active,t})},personComments:function(e){return e.personComments.map(function(e){var t={};return t.id=e.id,t.commentType=e.person_comment_type.name,t.author=e.user.name,t.content=e.content,t.created=e.created_at,t.updated=e.updated_at,t.active=e.active,t})}},mutations:{showCompanyDialog:function(e){e.companyDialog=!0},hideCompanyDialog:function(e){e.companyDialog=!1},company:function(e,t){e.company=t,e.companyPositions=e.company.positions,e.companyComments=e.company.comments,e.companyFiles=e.company.files},openImageContainer:function(e,t){e.imageContainer.item=t,e.imageContainer.show=!0},closeImageContainer:function(e){e.imageContainer.show=!1,e.imageContainer.item={}},showPersonDialog:function(e){e.personDialog=!0},hidePersonDialog:function(e){e.personDialog=!1},person:function(e,t){e.person=t,e.personPositions=e.person.positions,e.personComments=e.person.comments},editCompanyFileDialog:function(e,t){e.companyFileDetails.action="edit",e.companyFileDetails.id=t,e.companyFileDetails.formValid=!0,e.companyFileDetails.show=!0},createCompanyFileDialog:function(e){e.companyFileDetails.action="create",e.companyFileDetails.formValid=!0,e.companyFileDetails.show=!0},hideCompanyFileDialog:function(e){e.companyFileDetails.show=!1},resetCompanyFile:function(e){e.companyFileDetails.item={}},setCompanyFile:function(e,t){e.companyFileDetails.item=t},editPositionDialog:function(e,t){e.positionDetails.action="edit",e.positionDetails.id=t,e.positionDetails.formValid=!0,e.positionDetails.show=!0},createPositionDialog:function(e){e.positionDetails.action="create",e.positionDetails.formValid=!0,e.positionDetails.show=!0},hidePositionDialog:function(e){e.positionDetails.show=!1},resetPosition:function(e){e.positionDetails.item={}},setPosition:function(e,t){e.positionDetails.item=t},setPositionTasks:function(e,t){var i=kt()(t,2),a=i[0],s=i[1];e.tasks.show=!0,e.tasks.data=a,e.tasks.positionId=s,e.tasks.selected=[],e.tasks.available=[];var n=!0,o=!1,r=void 0;try{for(var l,c=F()(a);!(n=(l=c.next()).done);n=!0){var d=l.value;d.task_positions.length>0?e.tasks.selected.push(d):e.tasks.available.push(d)}}catch(e){o=!0,r=e}finally{try{!n&&c.return&&c.return()}finally{if(o)throw r}}}},actions:{getCompany:function(e,t){var i=e.commit,s=kt()(t,1)[0];a.a.http.get("crm/companies/"+s).then(function(e){return i("company",e.body)})},updateCompany:function(e,t){var i=e.commit,s=e.dispatch,n=e.state,o=kt()(t,3),r=o[0],l=o[1],c=o[2];a.a.http.put("crm/companies/"+r,l).then(function(e){i("alertSuccess",c,{root:!0}),s("getCompany",[n.company.id])})},storeCompanyComment:function(e,t){var i=e.commit,s=e.dispatch,n=e.state,o=kt()(t,2),r=o[0],l=o[1];a.a.http.post("crm/company-comments",r).then(function(e){i("alertSuccess",l,{root:!0}),s("getCompany",[n.company.id])})},suspendCompanyComment:function(e,t){var i=e.commit,s=e.dispatch,n=e.state,o=kt()(t,2),r=o[0],l=o[1];a.a.http.put("crm/company-comments/"+r,{active:0}).then(function(e){i("alertSuccess",l,{root:!0}),s("getCompany",[n.company.id])})},updateCompanyPosition:function(e,t){var i=e.commit,s=e.dispatch,n=e.state,o=kt()(t,3),r=o[0],l=o[1],c=o[2];a.a.http.put("crm/positions/"+r,l).then(function(e){i("alertSuccess",c,{root:!0}),s("getCompany",[n.company.id])})},storeCompanyPosition:function(e,t){var i=e.commit,s=e.dispatch,n=e.state,o=kt()(t,2),r=o[0],l=o[1];a.a.http.post("crm/positions",r).then(function(e){i("alertSuccess",l,{root:!0}),s("getCompany",[n.company.id])})},getCompanyFile:function(e,t){var i=e.commit,s=(e.state,kt()(t,1)[0]);a.a.http.get("crm/company-files/"+s).then(function(e){return i("setCompanyFile",e.body)})},updateCompanyFile:function(e,t){var i=e.commit,s=e.dispatch,n=e.state,o=kt()(t,3),r=o[0],l=o[1],c=o[2];a.a.http.put("crm/company-files/"+r,l).then(function(e){i("alertSuccess",c,{root:!0}),s("getCompany",[n.company.id])})},storeCompanyFile:function(e,t){var i=e.commit,s=e.dispatch,n=e.state,o=kt()(t,2),r=o[0],l=o[1];a.a.http.post("crm/company-files",r).then(function(e){i("alertSuccess",l,{root:!0}),s("getCompany",[n.company.id])})},getPerson:function(e,t){var i=e.commit,s=kt()(t,1)[0];a.a.http.get("crm/people/"+s).then(function(e){return i("person",e.body)})},updatePerson:function(e,t){var i=e.commit,s=e.dispatch,n=e.state,o=kt()(t,3),r=o[0],l=o[1],c=o[2];a.a.http.put("crm/people/"+r,l).then(function(e){i("alertSuccess",c,{root:!0}),s("getPerson",[n.person.id])})},storePersonComment:function(e,t){var i=e.commit,s=e.dispatch,n=e.state,o=kt()(t,2),r=o[0],l=o[1];a.a.http.post("crm/person-comments",r).then(function(e){i("alertSuccess",l,{root:!0}),s("getPerson",[n.person.id])})},suspendPersonComment:function(e,t){var i=e.commit,s=e.dispatch,n=e.state,o=kt()(t,2),r=o[0],l=o[1];a.a.http.put("crm/person-comments/"+r,{active:0}).then(function(e){i("alertSuccess",l,{root:!0}),s("getPerson",[n.person.id])})},updatePersonPosition:function(e,t){var i=e.commit,s=e.dispatch,n=e.state,o=kt()(t,3),r=o[0],l=o[1],c=o[2];a.a.http.put("crm/positions/"+r,l).then(function(e){i("alertSuccess",c,{root:!0}),s("getPerson",[n.person.id])})},storePersonPosition:function(e,t){var i=e.commit,s=e.dispatch,n=e.state,o=kt()(t,2),r=o[0],l=o[1];a.a.http.post("crm/positions",r).then(function(e){i("alertSuccess",l,{root:!0}),s("getPerson",[n.person.id])})},getPosition:function(e,t){var i=e.commit,s=(e.state,kt()(t,1)[0]);a.a.http.get("crm/positions/"+s).then(function(e){return i("setPosition",e.body)})},getPositionTasks:function(e,t){var i=e.commit,s=(e.state,kt()(t,1)[0]);a.a.http.get("crm/positions/"+s+"/tasks").then(function(e){return i("setPositionTasks",[e.body,s])})},addPositionTask:function(e,t){var i=e.commit,s=e.dispatch,n=(e.state,kt()(t,3)),o=n[0],r=n[1],l=n[2];a.a.http.post("crm/position-tasks",r).then(function(e){i("alertSuccess",l,{root:!0}),s("getPositionTasks",[o])})},removePositionTask:function(e,t){var i=e.commit,s=e.dispatch,n=(e.state,kt()(t,3)),o=n[0],r=n[1],l=n[2];a.a.http.delete("crm/position-tasks/"+o).then(function(e){i("alertSuccess",l,{root:!0}),s("getPositionTasks",[r])})},addManyPositionTasks:function(e,t){var i=e.commit,s=e.dispatch,n=e.state,o=kt()(t,3),r=o[0],l=o[1];o[2];a.a.http.post("crm/position-tasks/multiple-add",r).then(function(e){i("alertSuccess",l,{root:!0}),s("getPositionTasks",[n.tasks.positionId])})},removeManyPositionTasks:function(e,t){var i=e.commit,s=e.dispatch,n=e.state,o=kt()(t,3),r=o[0],l=o[1];o[2];a.a.http.post("crm/position-tasks/multiple-delete",r).then(function(e){i("alertSuccess",l,{root:!0}),s("getPositionTasks",[n.tasks.positionId])})}}},Ut={url:"https://cors-anywhere.herokuapp.com/http://crm-api.id-a.pl/",path:{default:"api",files:"storage/"}},zt={title:"Vue CRUD",locale:localStorage.getItem("locale"),locales:[{name:"en",text:"English"},{name:"pl",text:"Polski"}],localeSelectable:!0,primaryTheme:"dark",secondaryTheme:"dark",module:null,page:null,sidebarMini:!0,activeModule:"",profileDialog:!1,superuser:!1,historyPermission:!0,alert:{show:!1,color:"",text:"",icon:""},filesPath:Ut.url+Ut.path.files,logoLg:"vue-crud-lg.png",logoSm:"vue-crud-sm.png"},Ft={lng:function(e){return null!=e.locale?e.locale:"en"}},Ot={openProfileDialog:function(e){e.profileDialog=!0},openHelpDialog:function(e){e.helpDialog=!0},setModule:function(e,t){e.module=t},setPage:function(e,t){e.page=t},setLocale:function(e,t){localStorage.setItem("locale",t),e.locale=t},setSidebarWidth:function(e,t){e.sidebarMini=t},alertSuccess:function(e,t){e.alert.type="success",e.alert.text=t,e.alert.show=1,setTimeout(function(){return e.alert.show=0},2e3)},alertValidationError:function(e,t){e.alert.type="warning";var i="";for(var a in t)i+="<div><strong>"+a+": </strong>"+t[a].join(", ")+"</div>";e.alert.text=i,e.alert.show=1,setTimeout(function(){return e.alert.show=0},4e3)},alertError:function(e,t){e.alert.type="error",e.alert.text=t,e.alert.show=1,setTimeout(function(){return e.alert.show=0},4e3)}},At={};a.a.use(n.a);var Nt={crud:Tt,administration:jt,auth:Dt,crm:Mt},Rt=new n.a.Store({modules:Nt,state:zt,getters:Ft,mutations:Ot,actions:At}),Vt={global:{alerts:{updated:"Zaktualizowano",updateError:"Błąd! Aktualizacja nie powiodła się",stored:"Dodano",storeError:"Błąd! Nie udało się dodać rekordu",suspended:"Zawieszono",suspendError:"Błąd! nie udało się zawiesić rekordu",restored:"Przywrócono",restoreError:"Błąd! Nie udało się przywrócić rekordu",deleted:"Usunięto",deleteError:"Błąd! Nie udało się usunąć rekordu",added:"Dodano",addError:"Błąd! Nie udało się dodać elementu",removed:"Usunięto",removeError:"Błąd! Nie udało się usunąć elementu",confirm:"Czy na pewno chcesz to zrobić?"},routes:{home:{name:""},crm:{name:"CRM",companies:"Firmy",people:"Osoby",positions:"Stanowiska",companyTypes:"Typy firm",companyCommentTypes:"Firmy - typy komentarzy",personCommentTypes:"Osoby - typy komentarzy",companyComments:"Firmy - komentarze",personComments:"Osoby - komentarze",positionTasks:"Stanowiska - zadania",tasks:"Zadania",companyFiles:"Firmy - pliki",personFiles:"Osoby - pliki"},admin:{name:"Administracja",permissions:"Uprawnienia",users:"Użytkownicy",userPermissions:"Użytkownicy - uprawnienia"}}},buttons:{goToItem:"Szczegóły"}},Lt={global:{alerts:{updated:"Updated",updateError:"Error! Update unsuccessful",stored:"Dodano",storeError:"Error! Store unsuccessful",suspended:"Suspended",suspendError:"Error! Suspend unsuccessful",restored:"Restored",restoreError:"Error! Restore unsuccessful",deleted:"Deleted",deleteError:"Error! Delete unsuccessful",added:"Added",addError:"Error! Add unsuccessful",removed:"Removed",removeError:"Error! Remove unsuccessful",confirm:"Are you sure?"},routes:{home:{name:""},crm:{name:"CRM",companies:"Companies",people:"People",positions:"Positions",companyTypes:"Company Types",companyCommentTypes:"Companies - comment types",personCommentTypes:"People - comment types",companyComments:"Companies - comments",personComments:"People - comments",positionTasks:"Positions - tasks",tasks:"Tasks",companyFiles:"Companies - files",personFiles:"People - files"},admin:{name:"Administration",permissions:"Permissions",users:"Users",userPermissions:"Users - permissions"}}},buttons:{goToItem:"Details"}};a.a.use(s.a);var qt={pl:Vt,en:Lt},Bt=new s.a({locale:Rt.getters.lng,messages:qt}),Wt=i("8+8L"),Zt=i("3EgV"),Yt=i.n(Zt),Gt=i("M93x");a.a.config.productionTip=!1,a.a.use(Yt.a,{theme:{primary:"#34495e",secondary:"#41b883",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"}}),a.a.use(Wt.a),a.a.http.options.emulateJSON=!0,a.a.http.options.root=Ut.url+Ut.path.default,"-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style&&window.addEventListener("hashchange",function(e){var t=window.location.hash.slice(1);gt.path!==t&&gt.push(t)},!1),a.a.http.interceptors.push(function(e,t){localStorage.getItem("token")&&e.headers.set("Authorization","Bearer "+localStorage.getItem("token")),t(function(e){400!==e.status&&401!==e.status&&403!==e.status||(Rt.commit("auth/logout"),gt.push({path:"/login"}))})}),new a.a({el:"#app",i18n:Bt,router:gt,store:Rt,template:"<App/>",components:{App:Gt.default}})},PXbx:function(e,t){},Uc7C:function(e,t,i){"use strict";t.a={created:function(){this.filterColumns=this.tableFields.map(function(e){var t={mode:"like"};return t.text=e.text,t.name=e.name.toLowerCase(),t.column=e.column,t.value="",t})},watch:{selectedStatuses:function(e){this.pagination.page=1}},computed:{filteredItems:function(){var e=this,t=["soft","both"].includes(this.deleteMode)?this.items.filter(function(t){return e.selectedStatuses.includes(parseInt(t.meta.active))}):this.items,i=this.filterColumns;t=t.filter(function(e){for(var t=!0,a=0;a<i.length;a++)if(""!=i[a].value){t=!1;var s=e[i[a].name];if("string"==typeof s||s instanceof String||"number"==typeof s)switch(s=s.toString().toLowerCase(),i[a].mode){case"like":s.includes(i[a].value)&&(t=!0);break;case"equals":s==i[a].value&&(t=!0);break;case"list":i[a].value.split(";").includes(s)&&(t=!0)}if(!t)break}return t});var a=""==this.search?[]:this.search.toLowerCase().split(" ");return t=t.filter(function(e){for(var t=!0,i=0;i<a.length;i++){for(var s in t=!1,e){var n=e[s];("string"==typeof n||n instanceof String||"number"==typeof n)&&(n=n.toString().toLowerCase()).includes(a[i])&&(t=!0)}if(!t)break}return t})}}}},WAei:function(e,t){},c0lt:function(e,t){},ccrh:function(e,t){},dKVy:function(e,t){},"e0/B":function(e,t){},g2Y0:function(e,t,i){var a={"./vue-crud-lg.png":"vKOd","./vue-crud-md.png":"JXiI","./vue-crud-sm.png":"Cynn"};function s(e){return i(n(e))}function n(e){var t=a[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}s.keys=function(){return Object.keys(a)},s.resolve=n,e.exports=s,s.id="g2Y0"},jb3r:function(e,t){},km1T:function(e,t){},krh8:function(e,t,i){"use strict";var a={render:function(){var e=this.$createElement,t=this._self._c||e;return t("v-app",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};t.a=a},ndJn:function(e,t){},"o31/":function(e,t,i){"use strict";i.d(t,"a",function(){return r}),i.d(t,"d",function(){return l}),i.d(t,"c",function(){return d}),i.d(t,"b",function(){return c});var a=i("BO1k"),s=i.n(a),n=i("pFYg"),o=i.n(n);function r(e,t){var i=document.createElement("a");i.href=e+"/"+t,i.download=t,i.click()}function l(e,t){var i=t?1e3:1024;if(Math.abs(e)<i)return e+" B";var a=t?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["KB","MB","GB","TB","PB","EB","ZB","YB"],s=-1;do{e/=i,++s}while(Math.abs(e)>=i&&s<a.length-1);return e.toFixed(1)+" "+a[s]}var c={humanFileSize:function(e){return l(e)},dateFromTimestamp:function(e){return e.substring(0,10)},timeFromTimestamp:function(e){return(e||"").substring(0,5)},datetimeFromTimestamp:function(e){return"<nobr>"+e.substring(0,19)+"</nobr>"},croppedText:function(e){return null==e||e.length<100?e:e.substring(0,100)+"..."},list:function(e){return e?e.map(function(e){return e.tableList}).join(", "):""},listTasks:function(e){return e?e.map(function(e){return e.task.name}).join("<br>"):""},lastReset:function(e){if(e.length>0)return"<nobr>"+e[e.length-1].reset_time.substring(0,19)+"</nobr>"}};function d(e,t,i,a,n,r){var l={};for(var d in l.meta={id:e[a],active:e[r],buttons:{},item:{}},e)"object"===o()(e[d])&&null!==e[d]||(l.meta.item[d]=e[d]);var u=!0,m=!1,p=void 0;try{for(var f,h=s()(n);!(u=(f=h.next()).done);u=!0){var v=f.value;if(l.meta.buttons[v.name]=!0,v.condition){var y=!1,g=e[v.condition.field],b=v.condition.values;v.condition.operator;if("=="){var x=!0,w=!1,k=void 0;try{for(var _,C=s()(b);!(x=(_=C.next()).done);x=!0){g==_.value&&(y=!0)}}catch(e){w=!0,k=e}finally{try{!x&&C.return&&C.return()}finally{if(w)throw k}}}else if("!="){var I=!0,T=!1,E=void 0;try{for(var $,P=s()(b);!(I=($=P.next()).done);I=!0){g!=$.value&&(y=!0)}}catch(e){T=!0,E=e}finally{try{!I&&P.return&&P.return()}finally{if(T)throw E}}}else if(">"){var S=!0,D=!1,j=void 0;try{for(var M,U=s()(b);!(S=(M=U.next()).done);S=!0){g>M.value&&(y=!0)}}catch(e){D=!0,j=e}finally{try{!S&&U.return&&U.return()}finally{if(D)throw j}}}else if("<"){var z=!0,F=!1,O=void 0;try{for(var A,N=s()(b);!(z=(A=N.next()).done);z=!0){g<A.value&&(y=!0)}}catch(e){F=!0,O=e}finally{try{!z&&N.return&&N.return()}finally{if(F)throw O}}}l.meta.buttons[v.name]=y}}}catch(e){m=!0,p=e}finally{try{!u&&h.return&&h.return()}finally{if(m)throw p}}var R=!0,V=!1,L=void 0;try{for(var q,B=s()(t);!(R=(q=B.next()).done);R=!0){var W=q.value,Z=function(t){for(var i=""==t.name?e:t.name.split(".").reduce(function(e,t){return e[t]||""},e),a=t.functions||[],s=c,n=0;n<a.length;n++){i=s[a[n]](i)}return i};l[W.name.toLowerCase()]=void 0===W.apiObject?e[W.name]:Z(W.apiObject)}}catch(e){V=!0,L=e}finally{try{!R&&B.return&&B.return()}finally{if(V)throw L}}var Y=!0,G=!1,J=void 0;try{for(var H,K=s()(i);!(Y=(H=K.next()).done);Y=!0){var Q=H.value;Z=function(t){t.name.split(".").reduce(function(e,t){return e[t]||""},e)};l.meta[Q.name.toLowerCase()]=void 0===Q.apiObject?e[Q.name]:Z(Q.apiObject)}}catch(e){G=!0,J=e}finally{try{!Y&&K.return&&K.return()}finally{if(G)throw J}}return l}},sgN6:function(e,t){},sq9w:function(e,t){},vKOd:function(e,t,i){e.exports=i.p+"static/img/vue-crud-lg.6287cf8.png"},xJD8:function(e,t){},y5b8:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.c86e928231e837753671.js.map